<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>airnef</title>
<style type="text/css">
body {
	background-color: #F0F0F0;
}
ul {
	margin:0;
}
h2 {
	color: #000099;
}
#popupImageDiv_1 {
	position:absolute;
	width:400px;
	height:400px;
	border:2px solid #000;
	z-index: 1000;
}
ul.nobullets
{
    list-style: none;
}
table.tablegrid, .tablegrid td, .tablegrid th, .tablegrid tr {
	border: 1px solid black;
	border-collapse: collapse;
	text-align: left;
	padding-left: 3px
}
.tablegrid th {
	font-weight: bold;
}
</style>

<script type="text/javascript">
function getBrowserWidth() { // from http://stackoverflow.com/questions/1038727/how-to-get-browser-width-using-javascript-code
  if (self.innerHeight) {
    return self.innerWidth;
  }

  if (document.documentElement && document.documentElement.clientHeight) {
    return document.documentElement.clientWidth;
  }

  if (document.body) {
    return document.body.clientWidth;
  }
}
function getBrowserHeight() { // from http://stackoverflow.com/questions/1038727/how-to-get-browser-width-using-javascript-code
  if (self.innerHeight) {
    return self.innerHeight;
  }

  if (document.documentElement && document.documentElement.clientHeight) {
    return document.documentElement.clientHeight;
  }

  if (document.body) {
    return document.body.clientHeight;
  }
}
function popup(divName, clickEvent, aObj, imageWidth, imageHeight) {
	var popUpDiv = document.getElementById(divName);
	if (popUpDiv.style.display == 'none') {
		//
		// position the popup at the point of the mouse click, minus some for
		// both x,y so that the mouse pointer is within the image area, allow
		// the user to dismiss it with another click without having to move the mouse
		//
		//
		// if the image wont fit within the browser window at the selected coordinates,
		// move the coordinates so that it will fit
		//
		var browserWidth = getBrowserWidth()
		var browserHeight = getBrowserHeight()
		browserWidth -= 20 // some extra margin to make sure it fits without the user having to scroll
		browserHeight -= 20 // some extra margin to make sure it fits without the user having to scroll
		
		var x = clickEvent.clientX-25	// -25 so that mouse is over image for an easy second click for user to dismiss
		var y = clickEvent.clientY-25	// -25 so that mouse is over image for an easy second click for user to dismiss
		if (x + imageWidth > browserWidth) {
			// image would extend past right edge of browser window; adjust starting x position to make it fit
			x -= (x + imageWidth) - browserWidth
			x = Math.max(x, 0)
		}
		if (y + imageHeight> browserHeight) {
			// image would extend past bottom edge of browser window; adjust starting y position to make it fit
			y -= (y + imageHeight) - browserHeight
			y = Math.max(y, 0)
		}
		// make coordinates relative to the full rendered page
		x += document.body.scrollLeft + document.documentElement.scrollLeft
		y += document.body.scrollTop + document.documentElement.scrollTop
		// all done. set the coordinates in the div
		popUpDiv.style.left = x + 'px';
		popUpDiv.style.top = y + 'px';
		
		popUpDiv.style.width = imageWidth + 'px';
		popUpDiv.style.height = imageHeight + 'px'
		popUpDiv.style.height = aObj.height + 'px';	
		popUpDiv.style.background = "url(" + aObj.href + ") white no-repeat";
		popUpDiv.style.display = 'block'; // show
	} else
		popUpDiv.style.display = 'none'; // make invisible again
	clickEvent.preventDefault(); // so that browser doesn't go to the top of the page for the "#" href
}
</script>
</head>

<body>

<div id="popupImageDiv_1" style="display:none;" onclick="popup('popupImageDiv_1', event); " width="100%" height="100%"></div>	

  <table width="80%" border="0" cellpadding="10">
    <tr>
      <td width="64" height="104"><img src="airnef_64x64.png" alt="airnef logo" width="64" height="64"/></td>
      <td width="1088"><h1 align="left">airnef - Wireless download from your Nikon Camera!</h1></td>
    </tr>
  </table>
<p>This is the official homepage of Airnef, my open-source utility for downloading images and movies from your WiFi-equipped Nikon camera. Airnef runs on Windows, Mac, and Linux.  It supports all Nikon cameras that have built-in WiFi interfaces, along with those using  external Nikon WU-1a and WU-1b WiFi adapters. Airnef may also work with Nikon's WT-4A and WT-5A wireless adapters for the D3/D4/D8x, although I don't have any of these adapters on hand to test. Airnef  supports Canon and Sony cameras as well, although Canon supplies its own excellent <a href="http://www.usa.canon.com/cusa/consumer/standard_display/eos_utility" target="new">EOS Utility</a> for wireless downloads. Airnef is licensed under GPL v3.</p>
<h2 id="Downloads">Downloads</h2>
<p>Airnef is written in the <a href="https://www.python.org/">Python</a> programming language and is distributed in both installable form (Windows and OS X, directory of binaries for Linux) and as a source tree that can execute on any platform supporting Python 2.7.x or 3.4.x. </p>

<table width="1134" border="1" cellspacing="0">
  <tr>
    <td width="75"><div align="center"><strong>Dates</strong></div></td>
    <td width="39"><div align="center"><strong>Ver</strong></div></td>
    <td width="86"><div align="center"><strong>Change List</strong></div></td>
    <td width="208"><div align="center"><strong>Windows Installer</strong></div></td>
    <td width="179"><div align="center"><strong>OS X application</strong></div></td>
    <td width="248"><div align="center"><strong>Linux Binary</strong></div></td>
    <td width="269"><div align="center"><strong>Python Source Code</strong></div></td>
  </tr>
  <tr>
    <td align="center">10/09/2015</td>
    <td align="center">1.1</td>
    <td align="center"><a href="airnef_changelist.html" target="new">1.00 -&gt; 1.1</a></td>
    <td align="center"><a href="Version_1.1/airnef-installer-v1.1.exe">airnef-installer-v1.1.exe </a></td>
    <td align="center"><div align="center"><a href="Version_1.1/airnef v1.1.dmg">airnef v1.1.dmg</a></div></td>
    <td align="center"><div align="center"><a href="Version_1.1/airnef_v1.1_Linux_Binary.tar.gz">airnef_v1.1_Linux_Binary.tar.gz</a></div></td>
    <td align="center"><a href="Version_1.1/airnef_v1.1_Source.zip">airnef_v1.1_Source.zip</a></td>
  </tr>
  <tr>
    <td><div align="center">09/11/2015</div></td>
    <td><div align="center"><a href="previous/v1.00/index.html" target="_self">1.00</a></div></td>
    <td><div align="center">N/A</div></td>
    <td><div align="center"><a href="Version_1.00/airnef-installer-v1.0.exe">airnef-installer-v1.0.exe </a></div></td>
    <td><div align="center"><a href="Version_1.00/airnef v1.00.dmg">airnef v1.00.dmg</a></div></td>
    <td><div align="center"><a href="Version_1.00/airnef_v1.00_Linux_Binary.tar.gz">airnef_v1.00_Linux_Binary.tar.gz</a></div></td>
    <td><div align="center"><a href="Version_1.00/airnef_v1.00_Source.zip">airnef_v1.00_Source.zip</a></div></td>
  </tr>
</table>
<h2 id="Description">Description</h2>
<p>Airnef is two applications - a GUI front-end and a command-line app. The GUI front-end allows you to visually select the criteria of which images to download and then launches the command-line app to perform the transfer. You can optionally use the command-line version directly to script your transfers.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Lro2sSHqP68" frameborder="0" allowfullscreen></iframe>
<h2 id="MajorFeatures">Major Features</h2>
<table width="900" border="0">
  <tr>
    <td><ul>
      <li>One-button click to download all new images and video from the camera, selected on either the camera or computer by criteria</li>
      <li>Fast downloads - Airnef uses optimized Media Transfer Protocol (MTP) parameters for sustained throughput around 2.5 MB/s</li>
      <li>Realtime download mode - images are transferred to your computer as you shoot them. For cameras without realtime WiFi shooting support an optional staged-realtime process can be used as well.</li>
      <li>Extensive criteria selection makes it easy to quickly choose which images to download, including by file type (NEF, JPG, MOV, etc...), starting and/or ending capture date, specific camera folders, and media card slot - in any combination. And Airnef will automatically skip over files you've already downloaded!</li>
      <li>Renaming engine allows you to customize the names of directories and files for images you download</li>
      <li>Download exec feature lets you launch your favorite image viewing or editing application for each file downloaded</li>
      <li>Advanced local caching of MTP metadata allows for very fast click-to-download start times</li>
      <li>Lets you decide the order that files are downloaded, either oldest first or newest first. That way you can start working on the files you want right away instead of waiting for all the files to be downloaded</li>
      <li>Fault-tolerant operation - Airnef will continuously retry any failed communication/transfer, resuming the download exactly where it left off, even in the middle of a file. This is important when downloading very large video files on marginal wireless connections</li>
    </ul></td>
  </tr>
</table>
<p><img src="airnef_screenshots_animation.gif" alt="airnef screen-shot animation" width="920" height="465"/></p>
<h2 id="CameraSupportFeatureMatrix">Camera Support  Feature Matrix</h2>
<p>This is a partial list of camera's I've personally tested. Even if your camera is not listed it may still work.</p>
<table width="60%" border="1" cellspacing="0">
    <td width="40%"><strong>Camera</strong></td>
    <td width="18%" align="center"><strong>Select Images in Camera</strong></td>
    <td width="18%" align="center"><strong>Select Images on Computer</strong></td>
    <td width="24%" align="center"><strong>Realtime Download<sup>1</sup></strong></td>
  <tr>
    <td>All Nikon cameras built-in WiFi</td>
    <td align="center"><p>Yes</p></td>
    <td align="center">Yes</td>
    <td align="center">All DSLRs<sup>2</sup></td>
  </tr>
  <tr>
    <td>All Nikon cameras with WU-1a/WU-1b Adapter</td>
    <td align="center">No<sup>3</sup></td>
    <td align="center">Yes</td>
    <td align="center">Yes</td>
  </tr>
  <tr>
    <td>All Canon Cameras with WiFi</td>
    <td align="center">No</td>
    <td align="center">Yes</td>
    <td align="center">Yes</td>
  </tr>
  <tr>
    <td>All Sony Cameras with WiFi</td>
    <td align="center">No</td>
    <td align="center">Yes</td>
    <td align="center">Staged Realtime<sup>4</sup></td>
  </tr>
  <tr>
    <td>Nikon D750, D7200</td>
    <td align="center">Yes</td>
    <td align="center">Yes</td>
    <td align="center">Yes</td>
  </tr>
  <tr>
    <td>Nikon J4, J5</td>
    <td align="center">Yes</td>
    <td align="center">Yes</td>
    <td align="center">Staged Realtime<sup>4</sup></td>
  </tr>
  <tr>
    <td>Canon 6D</td>
    <td align="center">Yes</td>
    <td align="center">Yes</td>
    <td align="center">Yes</td>
  </tr>
</table>
<p id="SupportTable_Footnote_1"><sup>1</sup>An easy way to tell if your camera supports Realtime Download is if it allows you to take photographs while its WiFi interface is enabled and in the mode required by Airnef. For example most Nikon DSLRs support shooting with WiFi enabled. In contrast, Sony cameras (in the <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> mode) and the Nikon J4/J5 require you to leave the WiFi mode before you can use the functionality of the camera again<br/>
<sup>2</sup>Nikon 1 cameras with built-in WiFi such as the J4 and J5 do not support Realtime download but can use staged realtime transfers<br />
<sup>3</sup>Nikon bodies using an external WU-1a or WU-1b WiFi adapter have no separate menu option for selecting images to upload and the alternate mechanism of selecting images for upload  in the playback menu (present in cameras with native WiFi support like the D7200) is unavailable because the playback menu is disabled when WiFi is on for cameras with an external WiFi adapter.<br />
<sup>4</sup>Staged Realtime means the camera doesn't  support taking photographs while in the WiFi mode required by Airnef but you can achieve faux-realtime transfers by shooting any number of photos in non-WiFi mode then turning your camera's WiFi on to automatically transfer those images to Airnef, then turn your camera's WiFi back off to resume shooting. You can repeat this any number of times while running a single Airnef session (no intervention required on computer). More details <a href="#RealtimeDownloads" target="_self">here</a>. </p>

<h2 id="ArticlesAboutAirnef">Installation</h2>
<h3 id="InstallationWindowsInstaller">Windows Installer</h3>
<ol>
  <li>Download the Windows installer and launch it</li>
  <li> The application is unsigned so you'll receive a <a href="airnef_windows_installer_UAC_warning.gif" width="475" height="268" onclick="popup('popupImageDiv_1', event, this, 475, 268)">warning from Windows</a> about it coming from an &quot;unknown publisher&quot;</li>
  <li>Once the installer is running you'll be prompted to agree to the <a href="airnef_windows_GPLv3_license_agreement_prompt.gif" onclick="popup('popupImageDiv_1', event, this, 521, 407)">GPL v3</a> license.</li>
  <li>You'll then be prompted for the installation directory, which defaults to C:\Program Files\airnef (32-bit Windows) or C:\Program Files (x86)\airnef (64-bit Windows)</li>
  <li>A start-menu folder will be created under testcams.com, from which you can launch Airnef</li>
</ol>
<p>Here are a few post-installation Windows tips that will help make Airnef more convenient to use:</p>
<ol>
  <li id="windows_wireless_setup_tip">Windows Wireless Tip - There is a one-time wireless setup you can perform that will allow Windows to automatically switch to your camera's WiFi network whenever you turn your camera on and/or enable its WiFi. This is much more convenient than having to manually select the network every time you'd like to download images/videos from your camera. Here are the steps for the one-time setup:
    <ol>
      <li>Turn on your camera's WiFi feature and wait for the network to be listed in the available wireless network list. It should have a name prefixed with &quot;Nikon_&quot;, such as &quot;Nikon_WU2_52A670FB7F45&quot;. When you see the camera's network listed, click on the network and make sure 
      <a href="airnef_windows_network_connect.gif" onclick="popup('popupImageDiv_1', event, this, 297, 440)">"Connect automatically" is checked</a>, then press "Connect" button.</li>
      <li>Right-click the WiFi icon in the bottom-right system tray and select &quot;Open Network and Sharing Center&quot;, then click &quot;Manage wireless networks&quot; in the dialog that comes up. You'll be presented with a list of all the wireless networks you have ever connected to on your network. The list is sorted in order of connection priority, with the first item having the highest priority. Make sure the Nikon wireless network you just added is at the <a href="airnef_windows_network_order.gif" onclick="popup('popupImageDiv_1', event, this, 1112, 452)">top of the priority list</a>.</li>
      <li>Even though you've made the Nikon network the highest priority, Windows will still connect to your main home/work wireless network when you don't have your camera powered on and its WiFi enabled. This is desirable. However, whenever you do turn on your camera and its WiFi to download images, by default Windows will not drop the connection to your home/work network and automatically switch to your camera's network. To have it automatically switch to your camera's WiFi network whenever it's available, right-click on your home/work network(s) and select 'Properties' from the pop-up menu. Then check the box <a href="airnef_windows_network_connect_to_preferred_if_available.gif" onclick="popup('popupImageDiv_1', event, this, 972, 528)">"Connect to a more preferred network if available"</a> and press OK to accept the changes. Now whenever you turn your camera's on and enable its WiFi your system will automatically switch to its network. Note that sometimes Windows will a while before automatically switching to the camera's network after it becomes available - you can expedite the process by clicking on the WiFi icon in the bottom-right system tray. This causes Windows to perform a network rescan immediately rather than waiting its normal polling interval.</li>
    </ol>
  </li>
  <li>Whenever you'd like to cancel the current Airnef download/operation, press &lt;ctrl-c&gt; within the terminal window that airnefcmd is running. <strong>DO NOT click the &quot;X&quot; in that terminal window's title bar</strong> - doing this will cause airnefcmd to be terminated without properly cleaning up the resources and files it was processing.</li>
</ol>
<h3 id="InstallationOSXApplication">OS X application (.dmg)</h3>
<ol>
  <li>Download the OS X .dmg and double-click it</li>
  <li>The virtual disk image will be mounted and it should automatically open up to reveal the <a href="airnef_OSX_mounted_dmg.gif" onclick="popup('popupImageDiv_1', event, this, 584, 269)">Airnef application and a shortcut to your Applications folder</a>.</li>
  <li>Drag and drop the Airnef application into the Applications shortcut icon.</li>
  <li>The application is unsigned so you'll likely need to perform a one-time security override to permanently add the application to OS X's safe application list. You can do this by right-clicking (Control-Mouse Click) on the Airnef icon in <a href="airnef_OSX_right_click_open_app_for_security_override.gif" onclick="popup('popupImageDiv_1', event, this, 1037, 712)">your Applications folder</a> and selecting open.</li>
  <li>Agree to open the application when prompted about it being <a href="airnef_OSX_accept_security_override.gif" onclick="popup('popupImageDiv_1', event, this, 441, 184)">downloaded from the internet</a>.</li>
  <li>Airnef requires xterm but newer versions of OSX don't install it by default. You can install it from <a href="https://www.xquartz.org">XQuartz</a>, which is an <a href="https://support.apple.com/en-us/HT201341">Apple Project</a>.</li>
</ol>
<p>Here are a few post-installation OS X tips that will help make Airnef more convenient to use:</p>
<ol>
  <li>When you tell the Airnef GUI to start downloading images it launches the airnefcmd application in a terminal window to perform the actual download. When airnefcmd has completed its downloads, OS X will by default leave the terminal window open, requiring you to manually close it. This can be annoying because you'll have to repeat this action after every download completion. Fortunately the OS X terminal app has a configurable setting which allows the terminal window to automatically close after a console app has completed. In the Terminal application, select 'Preferences' in the menu. In the dialog that opens, click 'Profiles' in the top left and then the 'Shell' tab. Set &quot;When the shell exits&quot; to either &quot;Close if the shell exited cleanly&quot; or &quot;Close&quot;. See <a href="airnef_OSX_terminal_app_autoclose_on_completion.gif" onclick="popup('popupImageDiv_1', event, this, 1246, 542)">this sample screen image</a> of the dialog to help you locate this option.</li>
  <li>Whenever you'd like to cancel the current Airnef download/operation, press &lt;ctrl-c&gt; within the terminal window that airnefcmd is running. <strong>DO NOT click the &quot;X&quot; in that terminal window's title bar</strong> - doing this will cause airnefcmd to be terminated without properly cleaning up the resources and files it was processing.</li>
</ol>
<h3 id="InstallationLinuxBinary">Linux Binary</h3>
<ol>
  <li>The Linux binary ships in a compressed image that expands to directory tree of files, with the base directory expanding as ./airnef. You can unzip to your directory of choice and optionally add that directory/airnef to PATH</li>
  <li>The GUI is airnef/airnef and the command-line utility is airnef/airnefcmd</li>
</ol>
<h3>Windows/OS X/Linux running Airnef source with installed Python interpreter</h3>
<p>Instead of running the bundled Python environment that ships with the pre-built executables you can also run the source through your existing Python installation. Airnef supports both Python 2.7.x and 3.4.x environments.  OS X and most Linux distributions install Python by default. For Linux the Tkinter GUI framework may not come preinstalled; you can install it via &quot;sudo apt-get install python-tk&quot;. For Windows you'll need to <a href="https://www.python.org/downloads/" target="new">download</a> and install Python - I suggest enabling the option to add Python to your system path during the installation. For Linux and OSX you may need to set the airnef.pyw and airnefcmd.py as executable via 'chmod +x airnef.pyw' and 'chmod +x airnefcmd.py'</p>
<h2 id="OneTimeSetupRequirements">One-Time Setup Requirements</h2>
<h3 id="OneTimeSetupNikon"><a name="IP_Address_Config"></a>Nikon Cameras</h3>
<p>By default your Nikon camera has an IP address of 192.168.1.1 and runs without encryption. You can modify both the IP address and wireless security via a one-time procedure using Nikon's Wireless Mobile Utility app (<a href="https://itunes.apple.com/us/app/wireless-mobile-utility/id554157010?mt=8" target="new">iOS</a> and <a href="https://play.google.com/store/apps/details?id=com.nikon.wu.wmau&amp;hl=en" target="new">Android</a>). Nikon has published instructions on modifying the security settings <a href="https://support.nikonusa.com/app/answers/detail/a_id/19240/~/how-to-secure-the-d750-wifi-connection-on-an-ios-smart-device." target="new">here</a>. Modifying the IP address of your camera is useful if you run a typical network configuration that has the router at 192.168.1.1, which conflicts with the camera and makes it impossible to use a wired connection to your router/Internet at the same time you'd like to download from the camera. Here are instructions for the one-time procedure to change your cameras IP address:</p>
<ol>
  <li>Install the Nikon Wireless Mobile Utility (WMU) app on your phone  (<a href="https://itunes.apple.com/us/app/wireless-mobile-utility/id554157010?mt=8" target="new">iOS</a> and <a href="https://play.google.com/store/apps/details?id=com.nikon.wu.wmau&amp;hl=en" target="new">Android</a>).</li>
  <li>Turn your camera's WiFi on and then have your phone/tablet connect to that Network (Nikon's network usually starts with &quot;Nikon_&quot;, such as &quot;Nikon_WU2_52A670FB7F45&quot;</li>
  <li>Run WMU and click the gear icon at the top-right of the <a href="Nikon_WMU_Main_Screen.gif" onclick="popup('popupImageDiv_1', event, this, 270, 480)">main screen</a> to get to the Settings page.</li>
  <li>Click &quot;WMA Settings&quot; on the <a href="Nikon_WMU_Settings_Screen.gif" onclick="popup('popupImageDiv_1', event, this, 270, 480)">Settings Page</a>.</li>
  <li>Click &quot;Advanced Settings&quot; on the <a href="Nikon_WMU_WMA_Settings_Screen.gif" onclick="popup('popupImageDiv_1', event, this, 270, 480)">WMA Settings Page</a>.</li>
  <li>On the <a href="Nikon_WMU_WMA_AdvancedSettings_Screen.gif" onclick="popup('popupImageDiv_1', event, this, 270, 480)">Advanced Settings Page</a>, click on the DHCP Server IP address and change the subnet. For example, change it from the default of 192.168.1.1 to 192.168.2.1. Then click the DHCP client IP address and change it to the same subnet. For example, from 192.168.1.2 to 192.168.2.2.</li>
  <li>You're done. Enter the new DHCP Server IP address in the Camera IP address field of Airnef (192.168.2.1 in this example).</li>
</ol>
<h3 id="SnapBridge">Nikon D500 and other SnapBridge Cameras</h3>
<p>Nikon recently introduced their SnapBridge technology on the D500. SnapBridge is an "always-on" connectivity feature that allows the camera to use a low-power bluetooth connection to send JPEGs to a smartphone/tablet, both automatically in realtime as photographs are taken and manually if the user prefers to select specific images to download. Most SnapBridge implementations including the one of the D500 also include WiFi capability to allow for faster download of a large batch of images from the camera. Fortunately this WiFi implementation is identical to the MTP implementation on previous Nikon bodies, which means it is compatible with Airnef. Unfortunately, Nikon only allows the WiFi on SnapBridge-enabled cameras to be activated through the SnapBridge app - Nikon removed the ability for users to manually turn on the WiFi from the camera. This means that in order to use Airnef with SnapBridge-featured cameras you must first use the SnapBridge app to activate the camera's WiFi, then intervene to have Airnef to connect to the camera's WiFi network before the SnapBridge app does. Here are instructions on how to do this for both the iOS and Android versions of the SnapBridge app:</p>
<p>One-Time Setup:</p>
<ol>
  <li>Install the SnapBridge app on your smartphone/tablet, using Apple's App Store (<a href="https://itunes.apple.com/us/app/snapbridge/id1121563450?mt=8" target="new">iOS</a>) or Google's Play Store (<a href="https://play.google.com/store/apps/details?id=com.nikon.snapbridge.cmru&hl=en" target="new">Android</a>).</li>
  <li>Follow the SnapBridge app instructions to perform the one-time bluetooth paring between your smartphone/tablet and the camera. This only needs to be done once for a given smart device/camera pair.</li>
</ol>
<p>Activating the camera's WiFi using the iOS SnapBridge App:</p>
<ol>
  <li>Click the 'Camera' icon on the bottom row of icons within the SnapBridge app, then click &quot;Download selected pictures&quot; (<a href="ios_SnapBridge_DownloadSelectedPictures.gif" onclick="popup('popupImageDiv_1', event, this, 360, 640)">screenshot</a>)</li>
  <li>You will be prompted to confirm that you wish to temporarily switch SnapBridge from bluetooth to WiFi  (<a href="ios_SnapBridge_EnableCameraWiFi.gif" onclick="popup('popupImageDiv_1', event, this, 360, 640)">screenshot</a>) - click &quot;Yes&quot; to confirm.</li>
  <li>At this point the SnapBridge app will  connect to the camera's bluetooth  (if it isn't already connected) and will then activate/enable the camera's WiFi. This may take a while because the bluetooth connection process is sometimes very slow - see the 'Additional Details' section below for a method to accelerate this process. After activating the camera's WiFi the SnapBridge app will then prompt you to go into your iPhone/iPad's settings to connect to the camera's WiFi (s<a href="ios_SnapBridge_CameraWifiHasBeenEnabled.gif" onclick="popup('popupImageDiv_1', event, this, 360, 640)">creenshot</a>) - do not do this. Instead, click &quot;Close&quot;.</li>
  <li>The camera's WiFi is now enabled. Join the camera's network from your computer - the network will be your cameras model number + serial number. Launch Airnef and set the IP address of Camera IP Address to 192.168.1.1. Read the 'Additional Details' section below.</li>
</ol>
<p>Activating the camera's WiFi using the Android SnapBridge App:</p>
<ol>
  <li>Temporarily disable the WiFi on your smartphone/tablet. This is necessary to prevent the SnapBridge app from automatically connecting to the camera's WiFi network after you enable the camera' WiFi within the SnapBridge app.</li>
  <li>Click the 'Camera' icon on the top row of icons within the SnapBridge app, then click &quot;Download selected pictures&quot; (<a href="android_SnapBridge_DownloadSelectedPictures.gif" onclick="popup('popupImageDiv_1', event, this, 377, 640)">screenshot</a>). </li>
  <li>You will be prompted to confirm that you wish to temporarily switch SnapBridge from bluetooth to WiFi  (<a href="android_SnapBridge_EnableCameraWiFi.gif" onclick="popup('popupImageDiv_1', event, this, 377, 640)">screenshot</a>) - click &quot;OK&quot; to confirm.</li>
  <li>At this point the SnapBridge app will  connect to the camera's bluetooth  (if it isn't already connected) and will then activate/enable the camera's WiFi. This may take a while because the bluetooth connection process is sometimes very slow - see the 'Additional Details' section below for a method to accelerate this process. After activating the camera's WiFi the SnapBridge app will then attempt to connect to the camera's WiFi network but will fail because we disabled your smart device's WiFi in step #1. The SnapBridge app will report this failure in a pop-up (s<a href="android_SnapBridge_ErrorAfterWifiConnectWithPhoneWifiDisabled.gif" onclick="popup('popupImageDiv_1', event, this, 377, 640)">creenshot)</a>. Even though the SnapBridge app reported this error the camera's WiFi is now enabled.</li>
  <li>The camera's WiFi is now enabled. Join the camera's network from your computer - the network will be your cameras model number + serial number. Launch Airnef and set the IP address of Camera IP Address to 192.168.1.1. Read the 'Additional Details' section below.</li>
</ol>
<p>Additional Details:</p>
<ol>
  <li>The camera's WiFi will only stay enabled for a single Airnef session - it will revert back to disabled when the session is over. A session starts when you click the 'Start Download' (or 'Preview File List') button within Airnef and ends when the operations associated with that action have completed. Even though Airnef remains running after the session is over (in a state ready to perform another action/session), the camera's WiFi is now disabled. To perform another action/session from Airnef you will need to repeat the 'Activating the camera's WiFi' steps above.</li>
  <li>Although the camera's WiFi is enabled for only a single Airnef session at a time, that single session can optionally use realtime download feature of Airnef, which will keep the session open for as long as you'd like, allowing you to transfer images from the camera to your computer in realtime as you take them. See the <a href="#RealtimeDownloads" target="_self">Realtime Downloads</a> section for details on this feature.</li>
  <li>By default the D500 is configured to use WPA-2 encryption, with a password default of &quot;NIKOND500&quot;. You can change the default password in the camera's Setup -&gt; WiFi menu (or optionally switch to an unsecure OPEN network without a password). Note that in order to change the WiFi configuration you'll need to first disable the camera's bluetooth (Setup -&gt; Bluetooth -&gt; Network connection to OFF)</li>
  <li>Unlike previous, non-SnapBridge enabled cameras, Nikon does not allow the user to configure the IP subnet/address of the camera's WiFi network. Instead, the camera's network is hard-coded to use subnet 192.168.1.x, with the camera's IP address set to 192.168.1.1. If your computer uses a dual-network setup, where you connect to your local network+internet through a wired ethernet connection and use your WiFi for Airnef, you will need to either make sure that your wired network is configured for a subnet other than 192.168.1.x (which is the default for most ethernet routers) or you will need to temporarily disable your ethernet connection while using Airnef so that it doesn't conflict with the camera's 192.168.1.x network.</li>
  <li>Sometimes the SnapBridge app can take a long time to establish its bluetooth connection to the camera - this bluetooth connection is required for the SnapBridge app to command the camera to enable its WiFi. You can accelerate the bluetooth connection process by going into the camera's setup menu, selecting 'Bluetooth', then 'Paired Devices', then selecting your smartphone/tablet device within the list of paired devices.</li>
</ol>
<h3>Sony Cameras</h3>
<p>To enable wireless transfer-to-desktop functionality Sony cameras require a one-time configuration setup that must be performed with the camera attached to the computer via USB. You'll see <a href="sony_msg_when_send_to_computer_not_enabled.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">this</a> message if you haven't done the configuration. For Windows the setup is performed using Sony's <a href="http://support.d-imaging.sony.co.jp/www/disoft/int/download/playmemories-home/win/en/index.html" target="new"> PlayMemories Home</a> application. For OSX the setup is done using <a href="https://support.d-imaging.sony.co.jp/imsoft/Mac/wai/us.html" target="new">Sony's Wireless Auto Import</a> application. Sony doesn't provide a Linux application but if you can get access to a Windows or OSX machine you can perform the one-time setup on that system and then use Airnef under Linux thereafter, even on a system other than the one in which you authenticated via the one-time setup using Sony's software.</p>
<p>Here are the one-time setup instructions:</p>
<h4 id="EnableSonyWirelessTransfersOSX">Enable Sony Wireless transfers (OSX via Sony's Wireless Auto Import Application)</h4>
<ol>
  <li>Install <a href="https://support.d-imaging.sony.co.jp/imsoft/Mac/wai/us.html" target="new">Sony's Wireless Auto Import</a> application and  launch it from your Applications folder.</li>
  <li>Go to the <a href="sony_usb_connection_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">USB Connection</a> option in your camera's setup menu and set it to <a href="sony_usb_connection_select_options.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">MTP</a>, then connect the camera to a USB port on your computer.</li>
  <li>Launch the Wireless Auto Import application and press the 'Set' button on the <a href="sony_wirelessautoimport_main_screen.gif" onclick="popup('popupImageDiv_1', event, this, 761, 372)">Main Window</a>.</li>
  <li>When complete you should see a dialog stating that your computer has been set as the <a href="sony_wirelessautoimport_success.gif" onclick="popup('popupImageDiv_1', event, this, 425, 178)">Wireless Import Device</a>. With Sony's application now installed and the camera activated your Mac will automatically transfers images from your camera using Sony's Wireless Auto Import application whenever your camera connects to your networking using the <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> option. Sony's Auto Import application is a bit slow and doesn't let you select which files to transfer, which is why Airnef might be a better transfer solution for you. To use Airnef on this system you'll have to drag the Sony Wireless Auto Import application from the Application Folder into the OSX trash can, otherwise Sony's application will intercept the camera before Airnef has a chance to communicate with it.</li>
</ol>
<h4 id="EnableSonyWirelessTransfersWindows">Enable Sony Wireless transfers (Windows via PlayMemories Home)</h4>
<ol>
  <li>Install the <a href="http://support.d-imaging.sony.co.jp/www/disoft/int/download/playmemories-home/win/en/index.html" target="new">PlayMemories Home</a> Windows application.</li>
  <li>Connect the camera to your computer via USB.</li>
  <li>Launch the PlayMemories Home application. You may get a dialog asking you to temporarily switch the <a href="sony_playmemorieshome_windows_switch_usb_operation.gif" onclick="popup('popupImageDiv_1', event, this, 406, 173)">USB operation mode</a>. Click 'Yes' if you get this prompt.</li>
  <li>You may get a dialog asking you to <a href="sony_playmemorieshome_windows_import_options.gif" onclick="popup('popupImageDiv_1', event, this, 583, 150)">see options for cameras</a>. Click 'No' if you get this prompt.</li>
  <li>Near the top-left of the PlayMemories window you should see your <a href="sony_playmemorieshome_windows_camera_in_list.gif" onclick="popup('popupImageDiv_1', event, this, 1019, 482)">attached camera listed</a>. Click the camera to bring up the camera settings options.</li>
  <li>Click 'Wi-Fi Import Settings' in the <a href="sony_playmemorieshome_windows_camera_settings.gif" onclick="popup('popupImageDiv_1', event, this, 694, 345)">settings page</a>.</li>
  <li>Click 'Custom' in the <a href="sony_playmemorieshome_windows_WiFi_settings_custom.gif" onclick="popup('popupImageDiv_1', event, this, 670, 335)">Wi-Fi Import Settings</a> dialog.</li>
  <li>Click 'Set' in the dialog whose text reads <a href="sony_playmemorieshome_windows_WiFi_settings_set.gif" onclick="popup('popupImageDiv_1', event, this, 663, 331)">This Computer must be set as the automatic Wi-Fi import destination for the camera</a>.</li>
  <li>Click 'Next' to accept the <a href="sony_playmemorieshome_windows_WiFi_settings_firewall.gif" onclick="popup('popupImageDiv_1', event, this, 663, 330)">Windows Firewall changes</a>.</li>
  <li>You should see a dialog indicating that <a href="sony_playmemorieshome_windows_WiFi_settings_complete.gif" onclick="popup('popupImageDiv_1', event, this, 664, 332)">settings change completed</a>.</li>
  <li>Your camera is now configured to allow wireless desktop transfers. By default your computer will  automatically mount your camera whenever you use its <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> feature, which utilizes Microsoft's built-in MTP-IP driver to treat the camera as a storage device, allowing you to drag and drop files from the camera to your local folders. This feature is very slow and produces intermittent errors, which is why Airnef might be a better transfer solution for you. You'll need to disable auto-mounting of the camera via another one-time process (<a href="#DisableSonyAutoMountingWindows">instructions below</a>) - uninstalling PlayMemories Home will not disable the auto-mounting feature. Until you have disabled auto-mounting Airnef will be unable to communicate with the camera because the auto-mounting driver will intercept the camera when it becomes available over WiFi, making it unavailable for other wireless clients like Airnef.</li>
</ol>
<h4 id="DisableSonyAutoMountingWindows">Disabling Auto-Mounting of Sony camera on Windows</h4>
<ol>
  <li>To disable auto-mounting you must allow your system to mount the camera once so that it shows up in the Device Manager of the Windows Control Panel, where it can then be disabled for all future mount attempts. For the camera to show up on your system its wireless settings must be configured, which is also required to use Airnef. See the instructions <a href="#SonyWirelessSetup">below</a>.</li>
  <li>With the camera disconnected from USB, go to your camera's wireless menu and click <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a>. After the camera establishes its connection to the router you should see a screen indicating that it's <a href="sony_send_to_computer_before_first_airnef_connection.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">attempting to connect to your computer</a>, listing the name of the machine you configured in PlayMemories Home and the SSID of your wireless router.</li>
  <li>Wait for your computer to discover the presence of your camera over WiFi. This might take up to a minute. When discovered your computer will either display an <a href="sony_computer_autoplay_mtpip.gif" onclick="popup('popupImageDiv_1', event, this, 342, 493)">auto-play dialog</a> asking what action to take with the camera, or failing that, an <a href="sony_computer_cameraicon_mtpip.gif" onclick="popup('popupImageDiv_1', event, this, 553, 430)">icon representing the camera</a> within your windows filesystem. If neither of these happens and your computer fails to discover the camera then your done with this process (ie, for whatever reason the auto-mounting isn't working and since the goal is to disable auto-mounting there's nothing more for you to do).</li>
  <li>Run the Windows Control Panel's Device Manager. For example in Windows 7 you can do this by clicking the Start Menu and typing &quot;Device Manager&quot; and clicking the search result associated with Device Manager.</li>
  <li>In Device manager look for the icon in associated with the camera. On my Windows 7 system it shows up under the <a href="sony_computer_device_manager_camera_icon.gif" onclick="popup('popupImageDiv_1', event, this, 804, 592)">portable devices</a> category.</li>
  <li>Right-click on the camera and click <a href="sony_computer_device_manager_camera_icon_disable.gif" onclick="popup('popupImageDiv_1', event, this, 369, 193)">'Disable' from the popup menu</a>. The <a href="sony_computer_cameraicon_mtpip.gif" onclick="popup('popupImageDiv_1', event, this, 553, 430)">icon representing the camera</a> within your windows filesystem should now disappear - and should not reappear in the future when you perform a <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> operation from the camera. The camera's icon will still appear within the Device Manager whenever the camera is available, but with a greyed-out tag indicating that the device is disabled. If you ever want to re-enable the Microsoft MTP-IP driver, perform a <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> on the camera so that the icon shows up in the Device Manager and then right-click on the camera and click 'Enable'.</li>
</ol>
<h4 id="SonyWirelessSetup">Sony Wireless Setup</h4>
<p>Sony's <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> functionality requires that you perform a one-time wireless setup on your camera. Unlike the 'Send to Smartphone' feature where the camera creates its own ad hoc wireless network that you connect to, the Send to Computer' feature requires that the camera connect to your existing wireless network/router. Here are the steps to perform this one-time wireless setup on your camera:</p>
<ol>
  <li>Go to your camera's wireless menu and click the <a href="sony_access_point_set.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Access Point Set</a> option.</li>
  <li>Select the network name of your home/work wireless network from the <a href="sony_access_point_set_select_SSID.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">list of networks</a> presented by the camera.</li>
  <li>If your network is password-protected, click on the input line of the <a href="sony_access_point_set_password_prompt.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">password field</a> to bring up the <a href="sony_access_point_set_password_entry.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">password-entry screen</a> and enter your network's password.</li>
  <li>The <a href="sony_access_point_set_ipaddress_auto_and_priority_connection_off.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">next screen</a> lets you select the IP address method (Auto or Manual) and the 'Priority Connection' setting. Set 'Priority Connection' to ON - this will allow the camera to automatically connect to this network whenever you perform <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> operations from the camera. For IP address Airnef supports the 'Auto' method, where Airnef will search the network every time it runs and automatically detect the IP address of your Sony camera via the <a href="https://en.wikipedia.org/wiki/Simple_Service_Discovery_Protocol" target="new">SSDP Discovery</a> protocol. However, SSDP Discovery may not work on all systems so if Airnef is failing to discover your Sony camera then use the Manual IP address method instead - for example, if your router is configured at IP address 192.168.1.1 your manual settings might look like <a href="sony_access_point_set_manual_IP_address_manual_example.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">this</a>, where the camera is configured for IP address 192.168.1.10 - be sure to select an IP address that's not within the range of IP addresses that your router's DHCP server will use. Set the default gateway to the IP address of your router. The subnet mask should usually be set to 255.255.255.0</li>
  <li>The camera will now attempt to connect to your wireless network to confirm that your settings (including the wireless password) are correct. Once confirmed you should see a screen indicating that the network is registered.</li>
  <li>When using Airnef, if you chose &quot;Auto&quot; as the IP address mechanism during the camera's wireless setup then enter &quot;Auto&quot; in the IP address field of Airnef, otherwise enter the static IP address you chose for the camera.</li>
</ol>
<h4 id="SonySendToComputerSingleSession">Important note regarding ony 'Send to Computer'<a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)"></a> and transfer sessions</h4>
<p>Each use of the camera's <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> function supports only a single wireless session with a client like Airnef.  For Airnef a wireless session is defined as anytime you press the 'Start Download' or 'Preview File List for Criteria', including all files that Airnef downloads/lists as part of that session. When the wireless session to the camera is over Airnef will automatically send a command to the camera to take it out of the <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Compute</a> (and put the camera into sleep mode), provided the session terminates cleanly (ie, you don't press &lt;ctrl-c&gt; within the command window to abort the session early). If the session does not terminate cleanly/properly then the camera will stay in the <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> mode after Airnef's session has ended - because this mode only supports a single wireless session any future connection attempt from Airnef will be unsuccessful. To resolve this you will have to manually cancel out of the the <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> mode on the camera and then re-enter the mode again.</p>
<h3 id="OneTimeSetupSony">Canon Cameras</h3>
<p>Canon cameras support <a href="https://en.wikipedia.org/wiki/Simple_Service_Discovery_Protocol" target="new">SSDP Discovery</a>, which allows Airnef to automatically discover the IP address of your camera when you've set the camera's IP address to &quot;Auto&quot;. Simply type &quot;Auto&quot; for the Camera IP address field in Airnef. However, SSDP Discovery may not work on all systems so if Airnef is failing to discover your camera then use the Manual IP address method instead. Canon supports both ad hoc and infrastructure modes - for ad hoc the camera creates its own wireless network that you connect your computer - for infrastructure the camera connects to your existing home/work wireless network. In ad hoc mode  Canon cameras typically use a fixed IP address of 192.168.1.2. For infrastructure mode Canon lets you specify either 'Auto' or a static IP address of the camera. When using a static IP address make sure to select an address outside the range of DHCP addresses that your router is configured to supply. For example if the DHCP range of the router is 192.168.1.100 to 192.168.1.200 then select an IP address below 192.168.1.100 or above 192.168.1.200 (don't pick 192.168.1.1 because that is likely the address of your router). For this example you can use 192.168.1.20, with a subnet mask of 255.255.255.0 and a default gateway of 192.168.1.1 (gateway is the router's IP address).</p>
<p>After you create the wireless configuration on your Canon camera, the camera will usually wait for a connection from a wireless client (Airnef in this case) to complete the configuration, which then associates that specific client to the wireless configuration/set. If you have an existing wireless configuration that you've used with other non-Airnef clients then you'll have to recreate the setup to allow the camera to associate the configuration with Airnef.</p>
<h3 id="OptimizingWirelessDownloadPerformance">Optimizing Wireless Download Performance</h3>
<p>If you are  using a camera that connects to your existing wireless network in infrastructure mode rather than creating its own ad hoc wireless network then your wireless performance may reach only half its potential because two nodes on an infrastructure network can't communicate directly like they can on an ad hoc wireless network - this means that all data from the camera to your computer must make two trips, one from the camera to your wireless router and  another from the router to your computer. This applies to all Sony cameras in 'Send to Computer' mode and Canon cameras where you've elected to use infrastructure mode instead of ad hoc. You can avoid this double-trip penalty by using a wired connection from your computer to the router - that way the data from the camera only has to take one trip over your wireless network.</p>
<h2 id="UsersGuideGui">User's Guide (Graphical Interface)</h2>
<p>The best resource for learning how to use Airnef is the Youtube tutorial linked at the top of this page.</p>
<h3 id="BasicOperation">Basic Operation</h3>
<p>Airnef provides two basic methods for  selecting which images/movies to download - in the camera or on your computer. The benefit of selecting in the camera is that you can visually preview the images(s) first. The downside is that it's more cumbersome to select a large number of images. Also, some models limit the types of files you can select within the camera. For example the D7200 doesn't allow video files to be selected. Consumer-level cameras like the Nikon 1 J4  only let you select JPEGs. Fortunately both raw and video files can be downloaded on all camera models using the computer selection method within Airnef.</p>
<p>Airnef is really two separate applications - a Graphical Interface (airnef) and a Command-Line program (airnefcmd). The graphical interface lets you to visually specify your download options, which are then passed to airnefcmd to perform the actual downloads. You can optionally use the command-line program directly, which enables you to script/automate your downloads. See the <a href="#command_line_reference">Command Line Reference</a> in this page for details.</p>
<p>Airnef maintains a permanent download history of every file you transfer. Airnef uses this history to allow you to automatically skip over files you've already transferred, without having to specifically set a criteria that excludes those files. Airnef's default behavior is to skip files that are in its download history; you can override this behavior by unchecking the &quot;Skip images/movies you've previously downloaded&quot; option in each of the dialogs.</p>
<p>The Airnef GUI tries its best to be intuitive by remembering all the options you specified on your last download, along with the last 32 directories you've used. These options are saved every time you initiate a download operation.</p>
<h3 id="SelectingImagesInCamera2">Selecting images in the camera (only supported on Nikon cameras)</h3>
<ol>
  <li>Click the &quot;Select in Camera&quot; button on the <a href="airnef_screen_main_wizard.gif" onclick="popup('popupImageDiv_1', event, this, 920, 465)">Main Application Dialog</a>, which will bring up the <a href="airnef_screen_select_in_camera_wizard.gif" onclick="popup('popupImageDiv_1', event, this, 926, 470)">Select in Camera</a> dialog.</li>
  <li>On your camera, find the menu location where files can be selected for upload, which varies depending on model. You should look for the option that reads similar to &quot;Select for Upload&quot; or &quot;Select to send to smart device&quot; or &quot;Send to smartphone&quot;, etc... The Media Transfer Protocol (MTP) interface that Airnef uses to communicate with the cameras is principally oriented for sending images to smartphones, which is why you may need to look for the &quot;Send to smartphone&quot; option on your camera even though you'll be sending the images to your computer running Airnef. Some cameras also allow you to select images in the playback menu, including the Nikon D7200 and D750 - what's nice about these models is that the selections persist across camera power cycles, which means you can select images as you're shooting across multiple days and then use Airnef to download your selected images all at once.</li>
  <li>Once you've located your camera's menu that allows choosing files to upload, select one or more files in the camera using the button shortcuts depicted on your camera's screen. For example on the Nikon D7200 the button is the zoom-out key; on the Nikon J4 it's the bottom button of the circular multi-selector.</li>
  <li>When you've finished selecting which files to upload your camera will either let you proceed directly to enabling its WiFi  (Nikon J4 allows this by pressing the OK button on the multi-selector), or it may require you to enable the WiFi as a separate step (Nikon D7200). Use whichever method is available to enable the camera's WiFi</li>
  <li>Once the camera's WiFi is enabled you should see its SSID in the available wireless networks on your computer. Nikon prefixes their SSID with &quot;Nikon_&quot;, for example &quot;Nikon_WU2_52A670FB7F45&quot;. Connect to the camera's network on your computer by selecting its SSID. Ideally you'd like to configure your computer to automatically connect to your camera's WiFi whenever it's available, although not every operating system may support this. Windows supports this - please read the <a href="#windows_wireless_setup_tip">wireless setup instructions</a> on this page for details.</li>
  <li>In the 'Select in Camera' dialog,  set your output directory. The default directory is the one  specified when you last used Airnef. If this is the first time you're using Airnef then the default directory will be your home Pictures directory (/users/yourusername/Pictures). Airnef remembers the most recent directories you've used in Airnef (up to 32), sorted by how recently you used each directory. If the directory you want is not already in the list you can click the 'More choices' button to summon a directory navigation dialog that will allow you to either navigate to your directory of choice or enter a directory path manually.</li>
  <li>Set how you'd like Airnef to handle filename conflicts, ie what you'd like Airnef to do if it encounters  any files on your system with the same name as the ones you've selected to  download. By default Airnef will create a unique filename for any incoming files  whose names conflict with existing files.
    The full options are:
      <ul>
      <li>generate unique filename - a unique filename will be generated by adding a -new-x suffix, where 'x' is the first non-used numerical suffix for files in the directory. For example, DSC_1256.NEF becomes DSC_1256-new-1.NEF. If that file also exists the name becomes DSC_1256-new-2.NEF, etc</li>
      <li>overwrite file - existing file will be deleted at the start of the download</li>
      <li>skip file - file will be skipped (not downloaded)</li>
      <li>prompt for each file - you'll be prompt for the action to take for each filename conflict</li>
      <li>exit - Airnef will terminate  </li>
    </ul>
  </li>
  <li>By default Airnef will skip over images/movies you've downloaded from the camera on a previous session. You can override this behavior by unchecking the &quot;Skip images/movies you've previously downloaded&quot; option, which will cause Airnef to ignore its download history.</li>
  <li>If you'd like to enter realtime transfer mode after the download of your in-camera selected images has completed (ie, transfer images from the camera as you take them), set 'Realtime download' to 'normal download then realtime'.</li>
  <li>Click the 'Start Download' button to begin the transfer. Airnef will launch airnefcmd in its own terminal window - airnefcmd is the command-line utility that handles all communication with the camera, including the downloads. airnefcmd will report the progress of its operations in its terminal window, exiting when it's complete, or when it encounters what it believes is an unrecoverable error, or if you cancel the transfer by press &lt;ctrl-c&gt;</li>
  <li>After airnefcmd exits, Airnef will display a transfer report that contains all the progress information generated by airnefcmd. For brevity the report excludes information about files that were skipped due to being in the download history (ie, files skipped because you previously downloaded them). If you'd like to see when the skipped files were previously downloaded and to what location, set the Logging: option to 'verbose' before clicking 'Start Download'</li>
</ol>
<h3 id="SelectingImagesInAirnef">Selecting images by criteria on the computer (Nikon, Canon, and Sony cameras)</h3>
<ol>
  <li>Enable WiFi on your camera. For Canon cameras you can use either an ad hoc wireless network created by the camera or have the camera connect to your existing wireless network. For Sony cameras you enable WiFi transfer mode via the <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> option in the camera's wireless menu.</li>
  <li>Launch Airnef if you haven't already done so and click the &quot;Select on Computer&quot; button on the <a href="airnef_screen_main_wizard.gif" onclick="popup('popupImageDiv_1', event, this, 920, 465)">Main Application Dialog</a>, which will bring up the <a href="airnef_screen_select_on_computer_wizard.gif" onclick="popup('popupImageDiv_1', event, this, 926, 470)">Select on Computer</a> dialog.</li>
  <li>By default Airnef will download every image/video file on the camera, except for those you've previously downloaded. The 'Select on Computer' dialog lets you to establish any combination of criteria that then limits which of those files get downloaded.</li>
  <li>The 'File Types' section lets you choose which types of files are downloaded, based on the extension of the file. The built-in types are NEF, JPG, TIF, MOV, and CR2. If your camera supports a type not listed you can enter its extension in the 'More:' field that is positioned next to the built-in types.</li>
  <li>The 'Capture Date' section lets you limit which files are downloaded based on a capture/acquisition date. You can choose from either the preselected set of dates (today, yesterday, past week, past month, past year), or enter a custom date range. For the custom date range you can enter a starting date, ending date, or both. Each date must be in the format of mm/dd/yy and include leading zeros - for example, &quot;05/02/12&quot;. You an optionally include a time specification as well, in the form of hh:mm:ss - for example, &quot;05/02/12 15:35:15&quot;. When you specify a starting date without a time, the time will be assumed to start from midnight. When you specify an ending date without a time, the time will assumed to end at 23:59:59. For example, a starting date of 04/05/12 and ending date of 04/10/12 will download all files captured on or after 04/05/12 at midnight and on or before 04/10/12 23:59:59.</li>
  <li>The 'Media Card' section lets you specify which media card slot on the camera will be used as the source of the images to download. By default Airnef will use the first populated card slot it finds, starting from the first slot. You can optionally override this by specifying a particular slot. You can also download from both media cards for cameras with dual-card support; however this method is not recommended when you have the second slot configured for backup mode because it will cause Airnef to download the same image twice.</li>
  <li>The 'Download Order' option lets you to specify the chronological order  by which files are downloaded (by capture-date). The choices are oldest-first or newest-first. This option doesn't limit which files are downloaded, only the order by which they're downloaded. This is useful when you'd like to start working on more recently taken images/movies right away (as they download), rather than waiting for the download of all the files to complete.</li>
  <li>The 'Output Directory' section lets you specify where the downloaded files will be placed. The default directory is the one  specified when you last used Airnef. If this is the first time you're using Airnef then the default directory will be your home Pictures directory (/users/yourusername/Pictures). Airnef remembers the most recent directories you've used in Airnef (up to 32), sorted by how recently you used each directory. If the directory you want is not already in the list you can click the 'More choices' button to summon a directory navigation dialog that will allow you to either navigate to your directory of choice or enter a directory path manually.</li>
  <li>The 'If File(s) Exist' section lets you specify how Airnef will handle  filename conflicts, ie what you'd like Airnef to do if it encounters  any files on your system with the same name as the ones you've selected to  download. By default Airnef will create a unique filename for any incoming files  whose names conflict with existing files.
    The full options are:
      <ul>
        <li>generate unique filename - a unique filename will be generated by adding a -new-x suffix, where 'x' is the first non-used numerical suffix for files in the directory. For example, DSC_1256.NEF becomes DSC_1256-new-1.NEF. If that file also exists the name becomes DSC_1256-new-2.NEF, etc</li>
        <li>overwrite file - existing file will be deleted at the start of the download</li>
        <li>skip file - file will be skipped (not downloaded)</li>
        <li>prompt for each file - you'll be prompt for the action to take for each filename conflict</li>
        <li>exit - Airnef will terminate </li>
      </ul>
  </li>
  <li>The 'Additional Args' section lets you specify additional command line arguments to be passed to airnefcmd. These can be options that allow for additional selection criteria and/or options that control the general operation of airnefcmd. See the <a href="#command_line_reference">Command Line Reference</a> section on this page for a full list of arguments.</li>
  <li>The 'Skip images/movies you've previously downloaded' option allows you to control whether Airnef should skip (ie, not download) files you've previously downloaded from the camera.</li>
  <li>If you'd like to enter realtime transfer mode after the download of your in-camera selected images has completed (ie, transfer images from the camera as you take them), set 'Realtime download' to 'normal download then realtime'.</li>
  <li>With your criteria now set, you can either click 'Start Download' to perform the transfer or 'Preview File List for Criteria' if you'd first like to see a directory listing of files on the camera, filtered by your criteria. Note that the list will include files you've already downloaded even if you've checked the 'Skip images/movies you've previously downloaded' option; however, those files will not be re-downloaded once you click 'Start Download' (unless you've unchecked the option).</li>
</ol>
<h3 id="RealtimeDownloads">Realtime Downloads</h3>
<p>Airnef supports a realtime download mode, where it will transfer images from your camera as you shoot them. Only certain camera models support taking photographs while in the WiFi mode used by Airnef - see the camera feature matrix <a href="#CameraSupportFeatureMatrix" target="_self">here</a> for details. Even if your camera doesn't support taking pictures while WiFi is enabled you can still achieve faux-realtime transfers (termed 'staged realtime') by taking pictures with WiFi off and turning your camera's WiFi mode on - when Airnef detects the camera it will automatically transfer the images you've taken. You can tell when the staged transfers are done on Sony cameras by waiting for the <a href="sony_send_to_computer_select.gif" onclick="popup('popupImageDiv_1', event, this, 320, 180)">Send to Computer</a> screen to go away - Airnef actually puts the camera into sleep mode after the downloads complete, which conserves battery life if you leave the camera unattended after enabling WiFi. For other camera models you can watch the SD/CF access light (usually green) and wait for it to stop flickering, indicating that the transfers are done. You can then turn WiFi back off and resume shooting. You don't have to wait for the transfers to complete before turning WiFi back off - if you turn WiFi off in the middle of a transfer Airnef will remember which image it was downloading when it lost the WiFi connection to the camera and then resume downloading from that point when the camera's WiFi is available again. This process can be repeated any number of times while Airnef is running. You can also use this staged process on cameras that support actual realtime shooting as well, for example if you want an opportunity to review/delete images before they're transferred by Airnef , or to conserve battery life by keeping WiFi off most of the time, or if you're taking photos at a far distance from the computer/router and WiFi reception will be poor and slow. Staged transfers are particularly useful on Nikon cameras using external WU-1a/WU-1b WiFi adapters because that setup disables access to the image review function while the WiFi adapter is enabled, so the only way to review images before they're transferred is by disabling WiFi. Canon bodies let you review images while in WiFi mode and let you delete image(s) as well  - if you delete an image that Airnef is actively transferring then Airnef will detect the deletion and skip to the next file.</p>
<p>As part of Airnef's staged download support the camera does not have to be powered on (or its WiFi enabled) when you start the realtime download mode. Simply press the 'Start Download' within Airnef and it will enter a connection loop waiting for the camera to become available. However on Canon and Nikon cameras the realtime mode will launch faster if the camera is available when 'Start Download' is pressed (this allows Airnef to avoid the initial download of file information at the start of realtime mode).</p>
<p>When using the realtime download mode your camera's clock must be synchronized with the system clock of your computer - this is necessary because Airnef uses the timestamp of the images you taken to establish which images were shot in realtime (ie, shot after you started Airnef). Failing to keep the clock's synchronized means  either Airnef will skip over the realtime images you take (if the camera's clock is running behind your system clock) or transfer images that were taken before you started Airnef (if the camera's clock is running ahead of your system clock). Fortunately Airnef automatically synchronizes the camera's clock on most Nikon and Canon cameras - you only need to assure that the camera's time zone and DST setting (Daylight Savings Time for USA users) are matched between camera and system, as these attributes aren't programmable over the WiFi connection.</p>
<p>You can use the realtime download mode either in combination with the normal transfer mode or by itself in a realtime-only mode. When used in combination with the normal transfer mode Airnef will first transfer all the images that match your selected criteria, then enter the realtime download mode when those transfers are complete. This allows you to transfer images you already have on the camera while shooting new, realtime images as well - in other words, you can start shooting new images immediately without waiting for the download of the existing images to complete. When configured for realtime-only mode Airnef will ignore any existing images you have on the camera and only download images that were taken after Airnef is started (specifically, after the 'Start Download' button is pressed).</p>
<p>Regardless of which realtime mode you use, Airnef will apply  the selection criteria you specified in the dialog for realtime downloads the same as it does for normal downloads (the only exception is the capture date criteria, which naturally doesn't apply to realtime downloads since you're instructing Airnef to transfer images taken now). For example if you've configured Airnef to only download JPG files but have the camera configured for raw+JPG, Airnef will only download the JPG files shot in realtime. The same applies to the 'Media Card' configuration - if your camera has dual media slots but you've configured Airnef to only download images from slot #2, Airnef will only download realtime images that the camera saves to slot #2.</p>
<p>By default Airnef will poll the camera every 3 seconds to check for new images to download. This interval was selected to strike a reasonable balance between responsiveness and battery life. You can modify the polling interval via the <a href="#cl_realtimepollsecs" target="_self">--realtimepollsecs</a> option. Use a shorter interval if you'd like Airnef to respond to new images faster, or a longer interval to increase battery life. Any value above 30 seconds will likely cause the camera to drop the WiFi connection due to an inactivity timeout - for very long polling intervals I suggest turning the camera's WiFi off/on during shooting so that you can manually decide when images should be transferred.</p>
<p>See the <a href="#DownloadExec" target="_self">Download Exec</a> section below for optionally launching an image viewing application for each downloaded file, which is especially useful for realtime downloads.</p>
<p>Here is a video demonstration of the realtime download feature:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/lXWMco-i1A8" frameborder="0" allowfullscreen></iframe>
<h3 id="DownloadExec">Download Exec</h3>
<p>Airnef can optionally launch an application of your choice for each file downloaded, in both normal or realtime download modes. For example you can automatically launch an image review application to display each image as it's downloaded. This feature is accessed via the <a href="#cl_downloadexec" target="_self">--downloadexec</a> command option, which can be entered in the 'Additional Args' field of the GUI. The behavior of downloadexec can be further configured via <a href="#cl_downloadexec_extlist" target="_self">--downloadexec_extlist</a> (to limit which file types your application is launched for and <a href="#cl_downloadexec_options" target="_self">downloadexec_options</a> (various options such as waiting for the launched app to complete before continuing to next download).</p>
<p>When launching an image viewing application via downloadexec you'll typically want to configure the application for single window/instance operation (if supported) - that way each downloaded image will be displayed in the same window instead of creating a bunch of separate windows.</p>
<p>Here are some sample command-line recipes for various popular image viewing applications. For best results you should copy 'n paste these sample commands lines rather than typing them yourself.</p>
<p><strong>FastStone Image Viewer - Microsoft Windows </strong>(<a href="http://www.faststone.org/download.htm" target="new">link</a>)<br/>
  By default FastStone operates in single-window mode when launched by Airnef. To configure the window in which the image is displayed go to to   Settings -&gt; 'Associated images launches in' and choose one of the following per your preference 'Full Screen', 'Browser View', 'Windowed View'.<br />
  32-bit Windows: <strong>--downloadexec &quot;C:\Program Files\FastStone Image Viewer\FSViewer.exe&quot; @pf@</strong><br />
  64-bit Windows: <strong>--downloadexec &quot;C:\Program Files (x86)\FastStone Image Viewer\FSViewer.exe&quot; @pf@</strong></p>
<p><strong>Irfanview Image Viewer - Microsoft Windows </strong>(<a href="http://www.irfanview.com/" target="new">link</a>)<br/>
  By default Irfanview operates in multi-window mode. To configure single-window mode go to Options -&gt; Properties/Settings... -&gt; Start/ Exit options -&gt; 'Only 1 instance of Irfan View is active'. Note that Irfanview doesn't support raw images so --downloadexec_extlist JPG is included in these sample command lines:<br />
  32-bit Windows: <strong>--downloadexec &quot;C:\Program Files\IrfanView\i_view32.exe&quot; /file=@pf@ --downloadexec_extlist JPG</strong><br />
  64-bit Windows: <strong>--downloadexec &quot;C:\Program Files (x86)\IrfanView\i_view32.exe&quot; /file=@pf@ --downloadexec_extlist JPG</strong></p>
<p><strong>FastRawViewer - Microsoft Windows </strong>(<a href="http://www.fastrawviewer.com/download" target="new">link</a>)<br/>
  By default FastRawViewer operates in multi-window mode. To configure single-window mode go to File -&gt; Preferences -&gt; Other -&gt; 'Run single program instance'.<br />
  32-bit/64-bit Windows: <strong>--downloadexec &quot;C\Program Files\LibRaw\FastRawViewer\FastRawViewer.exe&quot; @pf@</strong><br />
  64-bit Windows running 32-bit version of FastRawViewer: <strong>--downloadexec &quot;C\Program Files (x86)\LibRaw\FastRawViewer\FastRawViewer.exe&quot; @pf@</strong></p>
<p><strong>Image Preview - Mac/OSX</strong> (built-in application)<br/>
  By default the OSX preview image operates in single-window mode.<br />
  Open using default viewing application (most systems this is Image Preview): <strong>--downloadexec open @pf@ </strong><br/>
Open using Image Preview specifically: <strong>--downloadexec open ~a Preview @pf@</strong></p>
<p><strong>FastRawViewer - Mac/OSX </strong>(<a href="http://www.fastrawviewer.com/download" target="new">link</a>)<br/>
By default FastRawViewer operates in multi-window mode. To configure single-window mode go to File -&gt; Preferences -&gt; Other -&gt; 'Run single program instance'.<br />
<strong>--downloadexec /Applications/FastRawViewer.app/Contents/MacOS/FastRawViewer @pf@</strong><br/>
</p>
<p><strong>Eye of GNMODE (eog) - Linux</strong> (included with most Linux distributions - <a href="https://en.wikipedia.org/wiki/Eye_of_GNOME" target="new">link</a>)<br/>
  <strong>--downloadexec eog ~~single-window @pf@</strong><br /><br /> 
  </p>

<h3 id="FileRenamingEngine">File Renaming Engine</h3>
<p>Airnef allows you to customize the names of directories and filenames for the images you download via a simple, mini-scripting language, accessible via the the <a href="#cl_dirnamespec" target="_self">--dirnamespec</a> and <a href="#cl_filenamespec" target="_self">--filenamespec</a> command line options. You can enter these options in the 'Additional Args' field of the GUI. Below are some examples to help get you started.</p>
<p>Include the model of the camera in the downloaded filename.<br/>
Sample Output: D7200_DSC_0119.NEF<br/>
<strong>--filenamespec @cameramodel@_@filename@</strong><br/>
<p>Create a directory based on the capture date of each file and a filename based on the sequence number of each download (ie, first download seq # is 0001, second is 0002, etc..).<br/>Sample Output: 20150928\Photo-0001.JPG <br/>
<strong>--dirnamespec @capturedate@ --filenamespec Photo-@dlnum@.@filename_ext@</strong></p>
<p>Include a custom name for the camera based on the serial number. For example if you have two cameras, one with S/N 7104765 and another with 5462197 and you'd like images from the first camera to have &quot;MyCamera&quot; in the name and images from the second to have &quot;JillsCamera&quot;. Note that the S/N Airnef uses is the one the camera reports via the wireless interface, which may have more or fewer digits than the S/N printed on the camera - you can view the serial number that Airnef uses in a download transfer report.<br/>Sample Output: MyCamera_DSC_1125.NEF, JillsCamera_DSC_2535.NEF<br/>
<strong>--filenamespec @cameraserial@@replace~7104765~MyCamera@@replace~5462197~JillsCamera@_@filename@</strong></p>

<h2 id="FAQ"><strong></strong>FAQ - Frequently Asked Questions</h2>
<ul class="nobullets">
  <li>Q: Sometimes during extended transfer sessions airnefcmd reports a MTP_RESP_StoreNotAvailable error and exits. Why is that?  </li>
  <li>A: Cameras have a data-integrity mechanism that  disables access to their SD/CF cards when the battery is low. This is done to prevent incomplete writes in case the battery charge runs out while the camera is writing to a card.  </li>
</ul>
<ul class="nobullets">
  <li>Q: My camera has a WiFi option but it wont let me enable it (it's greyed out)</li>
  <li>A: The mostly likely cause is low battery charge - for example Nikon bodies wont let you enable WiFi when the battery is low. There also might be a configuration setting in the camera that is incompatible with WiFi operation. On Nikon bodies the camera wont let you use WiFi when the HDMI port is in use.</li>
  <li>Q: I have a wired connection to my router and whenever I try to connect wirelessly to my camera Airnef reports &quot;A device at 192.1681.1.1 responded but the connection was refused. This is likely because you are connected to a normal WiFi network instead&quot;</li>
  <li>A: The default IP address of most routers is 192.168.1.1, which unfortunately is also the default IP address of the wireless network created by Nikon cameras. Even though you have separate a wired connection to your router there can only be one device with a given IP address and so when you attempt to connect to your camera at 192.168.1.1 you'll be connecting to your router instead. Fortunately changing the IP address of your Nikon camera is easy - see the instructions <a href="#IP_Address_Config" target="_self">here</a>.</li>
  <li>Q: My wireless download performance is only half the 2 - 2.5 MB/s that Airnef is quoted to achieve. I'm getting around 1 MB/s for my downloads.</li>
  <li>A: If your camera uses the wireless infrastructure mode then you'll need to use a wired connection to your router to achieve 2 MB/s. See details <a href="#OptimizingWirelessDownloadPerformance" target="_self">here</a>.</li>
  <li>Q: Whenever airnef runs it changes my camera's clock to the wrong time.</li>
  <li>A: Airnef synchronizes the camera's clock to your system's <a href="https://en.wikipedia.org/wiki/Coordinated_Universal_Time" target="new">UTC</a> time. The time that the camera displays is then localized to the time zone and DST setting (Daylight Savings Time for USA) that you configured in the camera. If the camera's time zone and/or DST is not matched to your system's time zone/DST then the time will appear incorrect. If you'd prefer for Airnef to not synchronize your camera's clock then add &quot;---maxclockdeltabeforesync disablesync&quot; (without the quotes) to the command line.</li>
  <li></li>
  <li></li>
</ul>
<p></p>
<h2 id="CommandLineReference"><a name="command_line_reference"></a>Command Line Reference</h2>
<h3><strong>airnefcmd.exe (Windows) or airnefcmd (Linux) or airnefcmd.py (Windows/OS X/ Linux running source through Python interpreter) [optional args]</strong></h3>
<p>When run with no options Airnef's default behavior is to either download every image that has been selected for download by the user on the camera's playback menu or, if no images were selected on the camera, to download every image/movie file it finds on the first populated memory card in the camera located at IP address 192.168.1.1 (Nikon's default IP address), storing the files into the current directory and skipping any files downloaded on previous invocations. Any name collisions with existing files will be resolved by generating unique filenames by adding a -new-x suffix (for example, DSC_1575.nef becomes DSC_1575-new-1.nef, DSC_1575-new-2.nef, etc...). Optional command-line arguments can be added to set the criteria of which files to download, where they should be downloaded, how filename collisions should be resolved, and other general behavior of the application.</p>
<p>All argument names are case sensitive but the optional values for each argument are case-insensitive. For example &quot;--extlist&quot; must be undercase but the actual extension list specified for that option can be any case (an &quot;--extlist jpg&quot; will match both .jpg and .JPG extensions for camera files).</p>
<p>You can abbreviate any argument name provided you use enough characters to uniquely distinguish it from other argument names. For example, --a in place of --action, if there are no other arguments that start with --a.</p>
<p><strong id="cl_help">--help</strong><br/>
Prints a help display listing all the typical options supported</p>
<p><strong id="cl_arg_file">!filename</strong> <font color="red">(changed from '@filename' to '!filename' in v1.1</font>)<br/> 
Load additional arguments from a text file. In addition to any parameter files you specify, airnefcmd will always load a file named 'airnefcmd-defaultopts' in its working directory if it exists (for Windows/Linux Airnef will look for this file in the directory Airnef was installed to; for OSX it will be in /Applications/airnef.app/Contents/Resources). The parameters from the default file will be loaded first, allowing you to override them with parameters from your own files and those specified on the command line. All parameter files must be formatted so that each parameter word is on a separate line, which is a requirement of Python's argparse routine. For example:</p>
<pre>	--action
	getsmallthumbs
	--extlist
	NEF
	JPG
</pre>
<p> <strong id="cl_ipaddress">--ipaddress address | auto </strong>(<font color="red">&quot;auto&quot; IP address support for Sony added in v1.1</font>)<br/> 
  Specifies the IP address of the camera supporting the MTP-IP interface. If not specified the default is 192.168.1.1, which is the default for most Nikon cameras (although some of the newer cameras ship with a default of 192.168.0.1). On Canon the ad hoc wireless address is usually 192.168.1.2. Canon also supports wireless infrastructure mode, where instead of the camera serving as a temporary WiFi access point it can use an existing wireless network - for this mode you can configure the camera to any IP address you'd like. Sony cameras support only infrastructure mode, where the camera connects to your existing wireless network/router - the camera lets you choose either a manual IP address or Auto (DHCP-assigned) - if you choose the latter, specify --ipaddress auto and airnef will attempt to discover the camera's IP address using the <a href="https://en.wikipedia.org/wiki/Simple_Service_Discovery_Protocol" target="new">Simple Service Discovery Protocol (SSPD)</a>. SSDP doesn't work on all systems so if airnef has trouble locating your Sony camera trying configuring the camera for a manual IP address instead.</p>

<p><strong id="cl_action">--action</strong> [getfiles | getlargethumbs | getsmallthumbs | listfiles]<br/>
What action to perform. The default action 'getfiles' will download the full-sized version of the files. 'getlargethumbs' will download the large thumbnail of each image/video. 'getsmallthumbs' will download the small thumbnail of each image/video. Not all cameras support both large and small thumbnail downloads. 'listfiles' will generate a directory listing of files on the camera, sorted by the --transferorder option.</p>
<p><strong id="cl_realtimedownload">--realtimedownload</strong> [disabled | afternormal | only] (<font color="red">added in v1.1</font>)<br/>
Download images in realtime as they're taken. The default is disabled, which means only the action specified by --action is performed. 'afternormal' means airnef will enter  realtime download mode after downloading any images specified by --action . 'only' means airnef will enter realtime download mode immediately and not download preexisting images on the camera. All criteria options such apply to the normal and realtime download modes except those that aren't applicable once realtime mode begins, such as --startdate and --enddate. When using realtime download make sure your camera's clock is synchronized to your system clock because airnef sometimes relies on timestamps to distinguish between realtime photos and those already on the camera. For Nikon and Nikon cameras airnef automatically synchronizes your camera's clock to the system clock every time airnef runs - however even with this automatic synchronization you must still make sure the camera's time zone and DST setting (Daylight Savings Time for USA) match your system's settings. For other cameras you'll want to make sure your camera clock is synchronized. The frequency at which airnef checks the camera for realtime images can be controlled via --realtimepollsecs.</p>

<p><strong id="cl_extlist">--extlist </strong>[extension ...]<br/>
Specifies which types of files (by extension) to download/list. If not specified airnef will download/list every file found. Multiple extensions can be included. Example: extlist NEF JPG MOV. In the unlikely case where a camera has downloadable files without extensions, include &lt;noext&gt; in the extlist to download those files as well.</p>

<p><strong id="cl_startdate">--startdate and --enddate</strong> [mm/dd/yy] or [mm/dd/yy hh:mm:ss]<br/> 
Selects the starting and/or ending creation-date criteria of files to download/list. There are two specifications supported - date-only or date+time. The dates/time is inclusive - any file created on or after startdate will be included; any file created on or before enddate will be included. Examples:</p>
<blockquote>
  <p><strong>--startdate 05/06/15</strong> (download all files created on or after 05/06/15 00:00:00)</p>
  <p>	<strong>--enddate 09/07/15</strong> (download all files created on or before 09/07/15 23:59:59)</p>
  <p><strong>--startdate 05/06/15 --endddate 09/07/15</strong> (download all files created on or after 05/06/15 00:00:00 and before 09/07/15 23:59:59)</p>
  <p><strong>--startdate 05/06/15 15:05:10</strong> (download all files created on or after 05/06/15 3:05:10 PM)</p>
</blockquote>
<p> <strong id="cl_outputdir">--outputdir </strong>[directory]<br/> 
The directory to store the downloaded files. The directory must already exist. Put quotes around the directory if it contains spaces. Example: outputdir &quot;c:\My Documents&quot;. The default is the current working directory. If both --outputdir and --dirnamespec are specified then airnef uses --outputdir as the base directory and the directory name generated from --dirnamespec will be relative from that base directory.</p>
<p><strong id="cl_ifexists">--ifexists</strong> [uniquename | skip | overwrite | prompt | exit]<br/> 
  Specifies what action to take if a local file exists in the output directory matching a file to be downloaded. The default 'uniquename' will cause a unique filename to be generated by adding  -new-x suffix (for example, DSC_1575.nef becomes DSC_1575-new-1.nef, DSC_1575-new-2.nef, etc...). 'skip' will cause the file to be skipped and not downloaded - be careful when using this option without the --camerafolderinoutputdir option, because if the same root filename exists in multiple folders on the camera then this will cause the file in all folders but the first to be skipped. 'overwrite' will overwrite the local file with the downloaded file - the same caution as 'skip' applies regarding the same file in multiple camera directories. 'prompt' will present a choice of actions to take on the console (uniquename/skip/overwrite/prompt/exit). 'exit' will cause the application to terminate whenever an existing file with the same name as a download candidate is found - note that the existence check of a given file is performed just before the download begins.</p>
<p><strong id="cl_downloadhistory">--downloadhistory</strong> [skipfiles | ignore | clear]<br/>
Controls how the file download history is handled for this invocation. Airnefcmd maintains a database of all files it has downloaded for a given camera model/serial number combination. Each file in the database is identified by the combination of its name, creation date, and size; these three elements together allow Airnef to guarantee against false positives/negatives of the history. The default 'skipfiles' will skip any file that is in the download history. 'ignore' will cause airnefcmd to ignore the download history for this invocation when deciding whether to download a given file - ie, it will download files even if they're in the download history. Note that the download history will still be updated for any files downloaded during '<strong>ignore</strong>' invocations; this allows the history to be utilized on future invocations when 'ignore' is not specified. 'clear' will delete the entire download history for the connected camera model/serial number at the start of execution; the download history will still be updated for any files downloaded during the session.</p>
<p><strong id="cl_onlyfolders">--onlyfolders</strong> [folder ...]<br/> 
  List of folders 
<strong></strong>on the camera from which to download from. Any downloadable file(s) found that <strong>are not in </strong>one of the list folders will not be downloaded/listed. Example: onlyfolders 100D7200 101D7200. The default is to download/list from any folder on the camera. In the unlikely case where a camera has downloadable files in the root directory, include &lt;root&gt; in the list to download those files as well. Be careful when using this option with realtime downloads because when a camera folder reaches its maximum file capacity the camera will create a new folder to store images and if that new folder is not included in your --onlyfolders list then any realtime images stored in that new camera folder will be excluded and not downloaded.</p>
<p><strong id="cl_excludefolders">--excludefolders</strong> [folder ...]<br/>
List of folders on the camera from which to not download from. Any downloadable file(s) found that <strong>are in</strong> one of the list folders will not be downloaded/listed. The default is to not exclude any folders. In the unlikely case where a camera has downloadable files in the root directory, include &lt;root&gt; in the list to exclude the the download of those files as well. </p>
<p id="cl_transferorder"><strong>--transferorder </strong>[oldestfirst | newestfirst]<br/>
Controls the order of which files are downloaded/list, based on their creation dates. When 'oldestfirst' is specified the oldest file on the camera will be downloaded/listed first, then the next oldest, etc... When 'newestfirst' is specified the newest file on the camera will be downloaded first, then the next newest, etc...</p>
<p><strong id="cl_slot">--slot </strong>[firstfound | first | second | both] (<font color="red">'both' option added in v1.1</font>)<br/>
Determines which media slot/card on the camera will be selected to download/list files from. The default 'firstfound', which will select the first slot found populated with a media card. 'first' or 'second' will select the first or second slot respectively. 'both' will use both media cards. If your camera has two card slots and you have them configured in backup mode then specifying 'both' for slot is not recommended because airnefcmd's operation retrieve information about files on the camera will take twice as long yet only half of those files will be unique. If you still want to use 'both' in this configuration then only one file of the mirrored pair will be downloaded if --downloadhistory is set to 'skipfiles'. Using 'both' is also not recommended for real-time capture when the cards are operating in backup mode because the timestamp of the identical files across the two cards is often skewed by one second, which will cause airnefcmd to believe the files are unique and defeat the download history file timestamp-matching mechanism.</p>
<p><strong id="cl_cameratransferlist">--cameratransferlist</strong> [useifavail | exitifnotavail | ignore]<br/> 
  Controls how to manage a potential camera transfer list, which is the list created by the camera when the user selects  image(s) to download on the camera's playback menu. When airnefcmd runs it interrogates the camera to see if a transfer list exists; the cameratransferlist controls how airnefcmd is to respond to the existence or non-existence of this list. When 'useifavail' is specified airnefcmd will only download images within the transfer list, and will ignore all other selection criteria specified by the other command line options. The download history will still be utilized however, meaning any images previously downloaded will be ignored, depending on the setting of the downloadhistory option. When 'exitifnotavail' is specified airnefcmd will terminate if the camera's transfer list is empty (ie, there are no user-selected images for download), unless --realtimedownload is specified, in which case airnef will enter its realtime download mode instead of exiting. When 'ignore' is specified airnefcmd will ignore any potential transfer list on the camera and will instead download/list all images on the camera based on the criteria specified with the other command line options.</p>
<p><strong id="cl_filenamespec">--filenamespec</strong> spec and <strong id="cl_dirnamespec">--dirnamespec</strong> spec (<font color="red">added in v1.1</font>)<br/> 
Rename downloaded files using Airnef's renaming engine. Place spec in quotes if it contains any literal spaces. This can be applied to the filename and/or the directory (tree) where the file is stored. 'spec' contains your desired output name including optional specifiers, which offer the ability to insert dynamic data into the filename, such as the camera model, serial number, capture date, etc.. Each specifier is enclosed in @@ and can optionally include subscripts to only use a portion of the dynamic data and also options to change elements such as case. If you'd like preview/test your --dirnamespec and --filenamespec before attempting a download then use --action listfiles. The directory listing will show a preview of what the output directory/filename name will look like. Here is the full format of a specifier; everything after specifier name is optional:</p>
<p>@<strong>specifiername</strong>:<strong>subscript_start</strong>:<strong>subscript_end</strong>:<strong>options</strong>@</p>
<p>Here is the full list of support specifiers:</p>
<table width="90%" border="1" cellspacing="0">
  <tr>
    <td width="16%"><strong>Specifier</strong></td>
    <td width="56%"><strong>Description</strong></td>
    <td width="28%"><strong>Example</strong></td>
  </tr>
  <tr>
    <td colspan="3" align="center"><strong>Capture Date/Time Specifiers</strong></td>
  </tr>
  <tr>
    <td>@capturedate@</td>
    <td>Capture date of file in yyyymmdd format</td>
    <td>20150924</td>
  </tr>
  <tr>
    <td>@capturedate_m@</td>
    <td>Capture date of file (month) in mm format</td>
    <td>09</td>
  </tr>
  <tr>
    <td>@capturedate_d@</td>
    <td>Capture date of file (day) in dd format</td>
    <td>24</td>
  </tr>
  <tr>
    <td>@capturedate_y@</td>
    <td>Capture date of file (year) in yyyy format</td>
    <td>2015</td>
  </tr>
  <tr>
    <td>@capturedate_dow@</td>
    <td>Capture date of file (day of week, numeric) [Monday=1, Tuesday=2...Sunday=7]</td>
    <td>4</td>
  </tr>
  <tr>
    <td>@capturedate_woy@</td>
    <td>Capture date of file (week of year) . Monday considered first day of week</td>
    <td>38</td>
  </tr>
  <tr>
    <td>@capturedate_month@</td>
    <td>Capture date of file (month, text)</td>
    <td>September</td>
  </tr>
  <tr>
    <td>@capturedate_dayofweek@</td>
    <td>Capture date of file (day of week, text)</td>
    <td>Thursday</td>
  </tr>
  <tr>
    <td>@capturedate_season@</td>
    <td>Capture season (Spring, Summer, Fall, or Winter)</td>
    <td>Fall</td>
  </tr>
  <tr>
    <td>@capturetime@</td>
    <td>Capture time of file in hhmmss format</td>
    <td>140513</td>
  </tr>
  <tr>
    <td>@capturetime_h@</td>
    <td>Capture time (hour) of file in hh format</td>
    <td>14</td>
  </tr>
  <tr>
    <td>@capturetime_m@</td>
    <td>Capture time (minute) of file in mm format</td>
    <td>05</td>
  </tr>
  <tr>
    <td>@capturetime_s@</td>
    <td>Capture time (seconds) of file in ss format</td>
    <td>13</td>
  </tr>
  <tr>
    <td colspan="3" align="center"><strong>Download Date/Time Specifiers. The airnefcmd launch date/time is used as the download date/time for all files downloaded in the session</strong></td>
  </tr>
  <tr>
    <td>@dldate@</td>
    <td>Download date of file in yyyymmdd format</td>
    <td>20150924</td>
  </tr>
  <tr>
    <td>@dldate_m@</td>
    <td>Download date of file (month) in mm format</td>
    <td>09</td>
  </tr>
  <tr>
    <td>@dldate_d@</td>
    <td>Download date of file (day) in dd format</td>
    <td>24</td>
  </tr>
  <tr>
    <td>@dldate_y@</td>
    <td>Download date of file (year) in yyyy format</td>
    <td>2015</td>
  </tr>
  <tr>
    <td>@dldate_dow@</td>
    <td>Download date of file (day of week, numeric) [Monday=1, Tuesday=2...Sunday=7]</td>
    <td>4</td>
  </tr>
  <tr>
    <td>@dldate_woy@</td>
    <td>Download date of file (week of year) . Monday considered first day of week</td>
    <td>38</td>
  </tr>
  <tr>
    <td>@dldate_month@</td>
    <td>Download date of file (month, text)</td>
    <td>September</td>
  </tr>
  <tr>
    <td>@dldate_dayofweek@</td>
    <td>Download date of file (day of week, text)</td>
    <td>Thursday</td>
  </tr>
  <tr>
    <td>@dldate_season@</td>
    <td>Download season (Spring, Summer, Fall, or Winter)</td>
    <td>Fall</td>
  </tr>
  <tr>
    <td>@dltime@</td>
    <td>Download time of file in hhmmss format</td>
    <td>140513</td>
  </tr>
  <tr>
    <td>@dltime_h@</td>
    <td>Download time (hour) of file in hh format</td>
    <td>14</td>
  </tr>
  <tr>
    <td>@dltime_m@</td>
    <td>Download time (minute) of file in mm format</td>
    <td>05</td>
  </tr>
  <tr>
    <td>@dltime_s@</td>
    <td>Download time (seconds) of file in ss format</td>
    <td>13</td>
  </tr>
  <tr>
    <td colspan="3" align="center"><strong>Capture Filename/Folder/Media Card Specifiers</strong></td>
  </tr>
  <tr>
    <td>@pf@</td>
    <td>Shortcut to @path@/@filename@</td>
    <td>c:\pics\DSC_0014.NEF</td>
  </tr>
  <tr>
    <td>@path@</td>
    <td>Directory to local file (equal to --outputdir if no --dirnamespec, otherwise generated --dirnamespec for use by --filenamespec)</td>
    <td>c:\pics</td>
  </tr>
  <tr>
    <td>@filename@</td>
    <td>Local filename (full). Local filename can be different than capturefilename if download small or large thumbnails</td>
    <td>DSC_0014.NEF</td>
  </tr>
  <tr>
    <td>@filename_root@</td>
    <td>Local filename (root, without extension)</td>
    <td>DSC_0014</td>
  </tr>
  <tr>
    <td>@filename_ext@</td>
    <td>Local filename (extension)</td>
    <td>NEF</td>
  </tr>
  <tr>
    <td>@capturefilename@</td>
    <td>Capture filename (full)</td>
    <td>DSC_0014.NEF</td>
  </tr>
  <tr>
    <td>@capturefilename_root@</td>
    <td>Capture filename (root, without extension)</td>
    <td>DSC_0014</td>
  </tr>
  <tr>
    <td>@capturefilename_ext@</td>
    <td>Capture filename (extension)</td>
    <td>NEF</td>
  </tr>
  <tr>
    <td>@camerafolder@</td>
    <td>Camera folder of filename</td>
    <td>100D7200</td>
  </tr>
  <tr>
    <td>@slotnumber@</td>
    <td>Media card slot # file downloaded from (1 or 2)</td>
    <td>1</td>
  </tr>
  <tr>
    <td colspan="3" align="center"><strong>Camera Make/Model/Serial Specifiers</strong></td>
  </tr>
  <tr>
    <td>@cameramake@</td>
    <td>Camera Make</td>
    <td>Nikon</td>
  </tr>
  <tr>
    <td>@cameramodel@</td>
    <td>Camera Model</td>
    <td>D7200</td>
  </tr>
  <tr>
    <td>@cameraserial@</td>
    <td>Camera Serial Number</td>
    <td>35551323</td>
  </tr>
  <tr>
    <td colspan="3" align="center"><strong>Download File Number Specifiers</strong></td>
  </tr>
  <tr>
    <td>@dlnum@</td>
    <td>The nth file downloaded this Airnef session (1..number of files downloaded)</td>
    <td>0045</td>
  </tr>
  <tr>
    <td>@dlnum_lifetime@</td>
    <td>The nth file downloaded for this camera model+serial for lifetime of Airnef</td>
    <td>5345</td>
  </tr>
  <tr>
    <td colspan="3" align="center"><strong>Meta Specifiers</strong></td>
  </tr>
  <tr>
    <td>@replace~xxx~yyy@</td>
    <td>Replace every occurence of 'xxx' with 'yyy' for output string generated up to this point</td>
    <td>@replace~NEF~Raws@ converts &quot;NEF&quot; to &quot;Raws&quot;</td>
  </tr>
  <tr>
    <td>@replacere~xxx~yyy@</td>
    <td>Regular Express version of @replace. This uses the Python <a href="https://docs.python.org/2/library/re.html#re.sub" target="new">re.sub()</a> function. Python regex reference <a href="https://docs.python.org/2/library/re.html" target="new">here</a>.</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>@@</td>
    <td>Literal '@'</td>
    <td>@</td>
  </tr>
</table>
<p>When both --dirnamespec and --filenamespec are specified, --dirnamespec is processed first. The output of --dirnamespec is then available as the updated @path@ for --filename spec. For example, if you use &quot;--outputdir c:\pics --dirnamespec @cameramake@ --filenamespec whatever&quot; with a Nikon camera, when --dirnamespec is processed the @path@ specifier translates to c:\pics. When --filenamespec is processed the @path@ specifier translates to c:\pics\Nikon</p>
<p>All specifiers except @replace@ can include optional subscripts to select a subset of characters from the generated specifier string. The first subscript is the starting character position. The second subscript is the ending character position (exclusive). An empty first subscript implies from the beginning of the string. An empty second subscript implies to the end of the string. Subscript values can be negative, which count from the end of the string.</p>
<p>Here are some examples based on a sample filename of DSC_0014.NEF:</p>
<table width="49%" border="1" cellspacing="0">
  <tr>
    <td width="20%"><strong>Example</strong></td>
    <td width="58%"><strong>What it Does</strong></td>
    <td width="22%"><strong>Output</strong></td>
  </tr>
  <tr>
    <td>@filename:4:8@</td>
    <td>Extract characters 4 through 7</td>
    <td>0014</td>
  </tr>
  <tr>
    <td>@filename::3@</td>
    <td>Extract characters from beginning through 2</td>
    <td>DSC</td>
  </tr>
  <tr>
    <td>@filename:4:@</td>
    <td>Extract characters 4 through end</td>
    <td>0014.NEF</td>
  </tr>
  <tr>
    <td>@filename:-3:@</td>
    <td>Extract last three characters</td>
    <td>NEF</td>
  </tr>
  <tr>
    <td>@filename:-3:-2@</td>
    <td>Extract one character starting 3 from the end</td>
    <td>N</td>
  </tr>
</table>
<p>The case of any specifier's output can be changed via the options field. The only exceptions are the @replace@ specifiers which uses the entire entered case. The options field is after the two subscript fields - if no subscripts are required than use three ':' as placeholders to skip past them. Here are the available options:</p>
<table width="49%" border="1" cellspacing="0">
  <tr>
    <td width="13%"><strong>Option</strong></td>
    <td width="87%"><strong>What it Does</strong></td>
  </tr>
  <tr>
    <td>u</td>
    <td>Entire specifier output is uppercased</td>
  </tr>
  <tr>
    <td>l</td>
    <td>Entire specifier output is lowercased</td>
  </tr>
  <tr>
    <td>c</td>
    <td>First character of specifier output is capitalized</td>
  </tr>
</table>
<p>Here are some case examples based on a camera make of &quot;Nikon&quot;:</p>
<table width="49%" border="1" cellspacing="0">
  <tr>
    <td width="20%"><strong>Example</strong></td>
    <td width="58%"><strong>What it Does</strong></td>
    <td width="22%"><strong>Output</strong></td>
  </tr>
  <tr>
    <td>@cameramake:::u@</td>
    <td>Entire specifier output is uppercase</td>
    <td>NIKON</td>
  </tr>
  <tr>
    <td>@cameramake:::l@</td>
    <td>Entire specifier output is lowercase</td>
    <td>nikon</td>
  </tr>
  <tr>
    <td>@cameramake:::c@</td>
    <td>First character of specifier output is capitalized</td>
    <td>Nikon</td>
  </tr>
</table>
<p>The @replace@ specifier is very powerful and allows you to perform search/replacement operations. It is performed on the generated output string at the point where the @replace@ occurs. This means it is performed after any other specifier replacements up to that point. Here are examples:<br />
</p>
<table width="98%" border="1" cellspacing="0">
  <tr>
    <td width="55%"><strong>Example</strong></td>
    <td width="22%"><strong>Sample Input</strong></td>
    <td width="23%"><strong>Output</strong></td>
  </tr>
  <tr>
    <td><p>--filenamespec @cameraserial@@replace~35551323~Main Camera@_@dlnum@@filename_ext@</p></td>
    <td>Serial #35551323,  DSC_0014.NEF</td>
    <td>&quot;Main Camera_0001.NEF&quot;</td>
  </tr>
  <tr>
    <td><p>--dirnamespec @cameramodel@\@filename_ext@@replace~NEF~Raw Files@</p></td>
    <td>D7200 and DSC_0014.NEF</td>
    <td>&quot;D7200\Raw Files&quot; (output directory)</td>
  </tr>
</table>
<p>The directory name generated by --dirnamespec is relative to --outputdir (if specified) and can can include multiple directories - airnefcmd will recurse to generate the necessary tree of subdirectories for any directory that doesn't already exist within the path. For example, --outputdir c:\mypics --dirnamespec &quot;@cameramodel@\@cameramake@\@cameraserial@&quot; will create (if necessary) the directories c:\mypics\Nikon, c:\mypics\Nikon\D7200, and c:\mypics\Nikon\D7200\35551323. After processing --dirnamespec the resulting directory name/path is converted to an absolute path.</p>
<p><strong id="cl_downloadexec">--downloadexec</strong> executable_specarg [specargs ...] (<font color="red">added in v1.1</font>)<br/> 
  Launches an application/script for each file downloaded. 'executable' is the name of the app/script. 'specargs' is one or more arguments to pass to the launched application/script, using the same spec renaming mechanism provided by --dirnamespec/--filenamespec. At a minimum you'll likely need to pass the name of the downloaded file to your app/script, which you can do via --downloadexec myappname @pf@. Note that the @path@ specifier will refer to the generated path if you included a --dirnamespec, or absent that the output path if you specified --outputdir. The @filename@ specifier refer to the generated filename if you included a --filenamespec, plus a potential &quot;--new-x&quot; suffix to the root name if there was a file in the output directory with the same name as the generated filename (if --ifexists is set to 
uniquename). If no --filenamespec was specified then @filename@ will refer to the capture filename stored on the camera, again with a potential &quot;--new-x&quot; suffix if the file had to be renamed due to a name conflict with an existing file in the output directory. Be careful when using this option with applications that aren't single-instanced, ie they start a new instance every time they're invoked. This can cause a large amount of application windows to be opened depending on how many files you're downloading. If the specifier result of the first argument results in an empty string then launching for that file will be skipped. You can specify different executables for various file types via use of the @replace@ specifier, for example: --downloadexec &quot;@filename_ext@@replace~JPG~myappforjpgs.exe@@replace~NEF~myappfornefs.exe@&quot; @pf@. By default all file types will invoke the downloadexec specification; use --downloadexec_extlist to limit by file extension. You can set additional exec options via --downloadexec_options.</p>
<p>To pass arguments that require a leading '-' or '--' prefix use '~' or '~~' instead. By default airnefcmd will convert the tilde characters of specarg into dashes after processing the secparg string(s) [it will not do this replacement on executable_specarg, to allow the use of tildes for the executable path/name]. Using tildes is required because any leading '-' or '--' prefix will be interpreted by airnefcmd as an argument to itself rather than an argument to pass to your launched application. If you need to use literal tildes in your argument string then you can disable this default replacement behavior by using --downloadexec_options notildereplacement. You you can then use a manual replacement specifier to support passing arguments that require a leading '-' or '--'. For example you can use --downloadexec_options notildereplacement --downloadexec myapp.exe ++single-window@replace~++~--@ to execute &quot;myapp.exe --single-window&quot;.</p>
<p>Each specarg is processed separately. This means @replace@ specifiers operate on that spec string only. For example, --downloadexec myapp.exe OPEN OPEN@replace~OPEN~CLOSE@ will result in myapp.exe OPEN CLOSE. You can enclose a specarg in quotes if you want it processed as a single string but it will be passed to the launched application as a single argument so any attempt to embed multiple arguments in a single quoted specarg string will likely not produce the results you want (ie, the launched program will interpret the multiple arguments of the single specarg as a single argument, likely resulting in it reporting that the argument name is not recognized).</p>
<p><strong id="cl_downloadexec_extlist">--downloadexec_extlist </strong>[extension ...]<br/>
Specifies which types of files (by extension) that an optional --downloadexec will be performed on. By default all file types will be launched for --downloadexec.</p>
<p><strong id="cl_downloadexec_options">--downloadexec_options</strong> [options ...] (<font color="red">added in v1.1</font>)<br/> 
Various options for handling the result/timing of the application/script launched --downloadexec. 'ignorelauncherror' will ignore any failure to launch the executable (such as the executable not being found). 'wait' will wait for the launched app to complete before proceeding to the next download. 'exitonfailcode' will exit if the launched application returns a non-zero exit status (must include 'wait' option for this to work, otherwise return code of launched application can't be checked). 'delay' will delay for 5 seconds after launching application before proceeding to the next download. 'notildereplacement' will disable the default behavior of replacing tilde characters with dashes.</p>
<p><strong id="cl_realtimepollsecs">--realtimepollsecs seconds</strong> (<font color="red">added in v1.1</font>)<br/> 
The interval at which airnef will poll the camera for new images in realtime download mode. The default is every 3 seconds. Use a longer interval to help increase camera battery life, or a shorter interval for faster download response times. Setting the interval too high may cause session timeouts because some cameras will consider the connection lost after extended periods of no communication from airnef. For example Nikon cameras will drop a session after about 30 seconds of inactivity.</p>
<p><strong id="cl_logginglevel">--logginglevel </strong> [normal | verbose | debug]<br/>
The verbosity level of logging for an airnefcmd session. Airnef outputs its messages both to the console (stdout/stderr) and to a pair of logging files, named airnefcmd-log-last.txt (log messages from most recent session) and airnefcmd-log-lifetime.txt (log messages from all sessions). 'normal' indicates that only important/useful informational messages will be logged. These include messages such as the connected model/serial number of the camera and information about each file downloaded/listed. 'verbose' includes some additional messages, useful for instance when you'd like more information about why a particular file was not downloaded. 'debug' will include all developer-level messages and debug information, including hex dumps of all MTP-IP communication between the airnefcmd and the camera. The default logging level is 'normal'.</p>
<p><strong id="cl_debugargs">Debug/Troubleshooting arguments:</strong></p>
<p>The following is a list of less common arguments that can be used when troubleshooting or debugging the operation of airnefcmd. These options are hidden from the --help display, to limit the clutter of options presented for normal use.</p>
<p><strong id="cl_connecttimeout">--connecttimeout </strong> &lt;seconds&gt;<br/> 
The amount of time to wait for a TCP/IP socket connection to be established with the camera. The default is 10 seconds. When Nikon's ad hoc wireless network is ready the camera usually connects very quickly. However it may take a little longer if the user just enabled the WiFi option on the camera and/or just selected the network on his computer. Canon bodies usually take a bit longer to establish a connection, esp if its WiFi has been idle for some period of time.</p>
<p><strong></strong><strong id="cl_socketreadwritetimeout">--socketreadwritetimeout </strong> &lt;seconds&gt;<br/>
The amount of time to wait for a single TCP/IP socket read/write request to complete. The default is 5 seconds.</p>
<p><strong></strong><strong></strong><strong id="cl_retrycount">--retrycount</strong> &lt;number&gt;<br/> 
The number of full-cycle retries airnefcmd will perform before completing its configured action on all files. By &quot;full-cycle&quot; I mean the process of recovering from a failed transaction, which includes restarting the full MTP-IP session. The default is unlimited.</p>
<p><strong id="cl_retrydelaysecs">--retrydelaysecs</strong> &lt;number&gt;<br/>
The number of seconds to pause between full-cycle retries. The default is 5 seconds. This value was chosen to allow some measure of time for the camera to reestablish its ad hoc wireless network; typically the camera will require a few retry cycles before it is ready for a new MTP-IP session after a failed attempt.</p>
<p><strong id="cl_printstackframes">--printstackframes</strong> [no | yes]<br/>
  Print stack frames for all exceptions. The default is to only print stack frames for programming exceptions, such as AssertionError, ValueError, etc..</p>
<p><strong id="cl_mtpobjcache">---mtpobjcache</strong> [enabled | writeonly | readonly | verify | disabled]<br/> 
  Controls the behavior of the MTP object info cache. Every file on the camera is represented by an MTP object that describes its attributes such as filename, date, size, type, etc.. Airnef retrieves the full list of object infos at the start of execution - this list is required to support the criteria filtering and date sorting features of the program. Some cameras take a long time to complete many MTP_OP_GetObjectInfo requests, accessing the media card for each request on-demand rather than using predictive read-ahead caching to anticipate the next MTP_OP_GetObjectInfo request. This can make repeated executions of airnefcmd slow. To avoid incurring this penalty for every invocation, airnefcmd caches the last list of object infos it obtained on a per model/serial number basis, storing the cache as a file in its local appdata directory. The default of 'enabled' enables the MTP object cache. The cache has mechanisms to ensure both the integrity and coherency of the cache, the latter of which requires algorithms to avoid cases where the cached copy of object infos can become stale relative to what's on the camera. The following options are used to verify and troubleshoot these mechanisms. 'writeonly' disables cache hits for this invocation but still enables writing the persistent cache file. 'readonly' enables cache hits for this invocation but disables updating th persistent cache file. 'verify' is the same as 'enabled' but will do a full coherency check of the cache - this involves performing a MTP_OP_GetObjectInfo for each object on the camera and verifying any cached copy against that information. 'disabled' will turn off the cache completely for this invocation.</p>
<p><strong id="cl_mtpobjcache_maxagemins">---mtpobjcache_maxagemins</strong> [minutes]<br/> 
  The MTP object info cache includes a timestamp of when it was last updated. This options controls how old the cache is allowed to be (ie, relative to its last update) before it is fully invalidated. The default is zero, which means no age limit. Any other value is an age limit in minutes.</p>
<p><strong id="cl_maxgetobjtransfersizekb">---maxgetobjtransfersizekb</strong> [kilobytes]<br/> 
The maximize request size for MTP_OP_GetPartialObject requests in kilobytes, which is the MTP request used to retrieve the full-size image/movie files. During Airnef development it was discovered that Nikon's MTP-IP implementation has a bug in its processing of MTP_OP_GetObject requests that cause transfers to get progressively slower and eventually lead to a complete halt of transfers, requiring the MTP session to be restarted to recover. It appears Nikon's firmware is committing internal memory for the entire object and eventually runs out of memory. The solution is to use MTP_OP_GetPartialObject, which allows the transfer of an object in separate segments rather than the full object as is done with MTP_OP_GetObject. This option sets the maximum size we request for each segment. The default is 1024 (1MB), which was empirically determined to be large enough to saturate Nikon's WiFi interface throughput while being small enough to avoid any memory issues in the camera. The actual request size may be further constrained by the --maxgetobjbuffersize parameter; for example, if the max transfer size is 1MB but the max buffer size is 256KB, the size of each MTP_OP_GetPartialObject transfer will be the smaller of the two, in this case 256KB. This parameter has no effect for --action getlargethumbs and --action getsmallthumbs since the MTP interface requires those to be obtained via MTP_OP_GetObject - those elements are typically very small and thus aren't sensitive to the Nikon issue related to large transfers.</p>
<p><strong id="cl_maxgetobjbuffersizekb">---maxgetobjbuffersizekb</strong> [kilobytes]<br/>
The maximum number of kilobytes we buffer across MTP_OP_GetPartialObject requests for a full-size image/movie file download before we flush the data. The default is 32768 (32MB). The value should be large enough to maximize throughput on the filesystem (although in most cases filesystem caches will ensure this through write caching) but small enough to limit airnefcmd's memory footprint.</p>
<p><strong id="cl_initcmdreq_guid">--initcmdreq_guid</strong> [16-byte hex guid in two 8-byte hex double-words | mac address] (<font color="red">added in v1.1</font>)<br/>
Specifies the 16-byte host GUID that airnef presents to the camera during MTP_TCPIP_REQ_INIT_CMD_REQ, which is the first request sent to the camera. This option is used for debugging support on new camera models that may require specific GUID values. The format is either a hi-low pair of hex values (example: --initcmdreq_guid 0x7766554433221100-0xffeeddccbbaa9988) or a six-field hex MAC address (example --initcmdreq_guid 43:56:22:98:35:32). For the 16-byte hex option the bytes are ordered such that the hi-field (first hex value) is sent first, in presumed big-endian GUID word order, with the order of individual bytes being little endian on little-endian platforms (for example --initcmdreq_guid 0x7766554433221100-0xffeeddccbbaa9988 will be go out on the wire as 00 11 22 33 44 55 66 77 88 99 aa bb cc dd ee ff). The six-field hex MAC address is to support Sony's exclusive host feature when desired, where the camera will only accept the GUID if its lower six bytes match the MAC address for which the camera is authenticated for using Sony's PlayMemories Home (Windows) or Auto Import App (OSX) [the lower six bytes of the GUID are the mac address, with bytes 7-8 as 0xFF). The default GUID for airnef v1.0 was 0x7766554433221100-0xffeeddccbbaa9988 (matching the GUID Nikon's WMU app presents to cameras), but was changed in v1.1 to 0x7766554433221100-0x0000000000009988 to support Sony cameras, who will only accept a non-MAC address matching GUID if the last six bytes of the GUID are zero, corresponding to what Sony interprets as the MAC address of the host.</p>
<p><strong id="cl_initcmdreq_hostname">--initcmdreq_hostname</strong> [hostname] (<font color="red">added in v1.1</font>)<br/>
Specifies the host name string that airnef presents to the camera during MTP_TCPIP_REQ_INIT_CMD_REQ, which is the first request sent to the camera. This option is used for debugging support on new camera models that may require specific hostname values. The default is 'airnef'.</p>
<p><strong id="cl_initcmdreq_hostver">--initcmdreq_hostver</strong> [4-byte hex word] (<font color="red">added in v1.1</font>)<br/>
Specifies the host version that airnef presents to the camera during MTP_TCPIP_REQ_INIT_CMD_REQ, which is the first request sent to the camera. This option is used for debugging support on new camera models that may require a specific host version value. The default is 0x00010000, which is interpreted by MTP-IP as 1.00</p>
<p><strong id="cl_opensessionid">--opensessionid</strong> [4-byte hex word] (<font color="red">added in v1.1</font>)<br/>
Specifies the session ID that airnef uses for the MTP_OP_OpenSession request, which is the command that starts a high-level MTP session with the camera. This option is used for debugging support on new camera models that may require a specific session ID value - by default airnef uses the session ID by the camera in response to a MTP_TCPIP_REQ_INIT_CMD_REQ. However some newer Nikon cameras like the J5 and P900 expect a hard-coded session ID of 0x00000001 - to support these models airnef will first attempt the session ID returned by MTP_TCPIP_REQ_INIT_CMD_REQ; if that fails airnef will then retry the MTP_OP_OpenSession with a hard-coded session ID of 0x00000001.</p>
<p><strong id="cl_maxclockdeltabeforesync">--maxclockdeltabeforesync</strong> [seconds | disablesync | alwayssync] (<font color="red">added in v1.1</font>)<br/> 
  Specifies the maximum clock delta allowed (in seconds) between the camera and system before airnef will send an MTP command to the camera to synchronize its time to the computer system airnef is running on. This check is performed once per airnef session. Synchronization the camera's date/time is currently only supported on Nikon and Canon bodies. For Canon bodies value of 'seconds' is ignored - the clock is always synchronized provided 'disablesync' is not specified. The default is 5 (seconds). 'disablesync' disables the clock synchronization feature. 'alwayssync' will always set the cameras clock, irrespective of whether it's out of sync with the system's clock.
</p>
<p><strong id="cl_camerasleepwhendone">--camerasleepwhendone</strong> [yes | no] (<font color="red">added in v1.1</font>)<br/>
Specifies whether the camera is put into sleep mode at the end of an airnef session (ie, low power mode where the camera may still be on but requires a button press to wakeup) . The default is yes. The only camera that presently supports this is Sony. This command is important for Sony cameras because if the camera is not put to sleep then it will remain in the 'Send to Computer' mode even after the airnef session completes. Sony appears to only support one MTP session per TCP/IP socket connection - when a session ends the camera will remain in 'Send to Computer' mode (even if a command is sent to change the message and make it appear its no longer in that mode, such as the &quot;saving process canceled message&quot;) - any attempt at a subsequent MTP session will result in the camera accepting a new TCP/IP socket connection but not responding to any MTP commands, making it appear to the user that the WiFi is no longer working. The only way to recover from this is to press 'Cancel' on the 'Send to Computer' screen and then perform another 'Send to Computer' operation. The alternative used by airnef is to put the camera to sleep after the session, which is the only way I've found so far that is guaranteed to get the camera out of the initial 'Send to Computer' mode. If you set this option to 'no' then airnefcmd will log a warning message at the end of very session indicating that the user must press 'Cancel' on the 'Send to Computer' screen before attempting a new airnef session with the camera.</p>
<p><strong id="cl_suppressdupconnecterrmsgs2"></strong><strong id="cl_sonyuniquecmdsenable">--sonyuniquecmdsenable</strong> [4-byte hex word with bitmask flag values] (<font color="red">added in v1.1</font>)<br/> 
Specifies which Sony-proprietary commands should be issued to Sony cameras during airnef operation. These commands are undocumented and were reverse-engineered during v1.1 development. It doesn't appear that any of the commands are required for normal MTP functioning but the option to send them is being provided in case certain Sony camera models are found to require them. The default value is 0x00000001, to enable the command that displays &quot;Sending... on the 'Send to Computer' screen of the camera. The bitmask values for this field are:</p>
<blockquote>
  <p>SONY_UNQIUECMD_ENABLE_SENDING_MSG					= 0x00000001<br />
    SONY_UNQIUECMD_ENABLE_UNKNOWN_CMD_1					= 0x00000002<br />
  SONY_UNQIUECMD_ENABLE_SAVING_PROCESS_CANCELLED_MSG	= 0x00000004</p></blockquote>
  <p><strong id="cl_suppressdupconnecterrmsgs">--suppressdupconnecterrmsgs</strong> [yes | no] (<font color="red">added in v1.1</font>)<br/> 
v1.1 added the automatic suppression of redundant connection-failure messages when it performs retries of connection attempts. These message include timeout/not-responding messages. This was added to prevent a constant stream of messages while airnefcmd is waiting for the camera to become available to connect, particularly for the new --realtimedownload mode where some workflows may involve the user intentionally turning WiFi off/on while shooting as a means to control when the camera sends realtime images to airnef. The default is yes.</p>
  <p><strong id="cl_rtd_pollingmethod">--rtd_pollingmethod</strong> [integer value corresponding to a REALTIME_DOWNLOAD_METHOD_* constant] (<font color="red">added in v1.1</font>)<br/>
&quot;rtd&quot; prefix is short for &quot;realtimedownload&quot;. Specifies the polling method used for detecting when the camera might have new images to download. The default is to determine the method by the camera make. A value of 0 is the Nikon-specific event mechanism. A value of 1 is the generic MTP polling method. A value of 2 is to exit the session and wait for the camera to become available again (for cameras that don't allow operation while in WiFi mode, such as all current Sony cameras).</p>
  <p><strong id="cl_rtd_mtppollingmethod_newobjdetection">--rtd_mtppollingmethod_newobjdetection</strong> [objllist | numobjs] (<font color="red">added in v1.1</font>)<br/>
&quot;rtd&quot; prefix is short for &quot;realtimedownload&quot;. Specifies the method used for detecting new objects on the camera when using the MTP polling method, which is the generic method used on cameras for which airnef doesn't support the camera's native event mechanism. Presently airnef only supports the Nikon event mechanism, so it uses the MTP polling method for Canon. The MTP polling method has two algorithms for detecting the possibility of new images in the camera - it can either check for a change in the object handle list or a change in the number of objects, the latter of which then requires retrieving the object handle list to establish which handles are new. The numobjs method would seem to be more efficient since it requires only retrieving a single 32-bit value from the camera - however the problem with this method is that there's a timing hole if the user deletes an image in-camera and then takes a new one in between one of our polling intervals - the object count will be the same and we'll fail to detect a new image (-1 for deleted image, +1 for new image). For this reason the default algorithm  is objlist, which actually was found to execute faster on a Canon 6D than the object count algorithm. I left the numobjs algorithm in the code in case there is a camera model where the objlist method runs very slow.</p>
  <p><strong id="cl_rtd_maxsecsbeforeforceinitialobjlistget">--rtd_maxsecsbeforeforceinitialobjlistget</strong> [seconds] (<font color="red">added in v1.1</font>)<br/>
When --realtimedownload is set to 'only' Airnef can avoid the time-consuming retrieval of the initial list of objects/files from the camera. This is because it's configured to only capture images taken after Airnef has launched and thus doesn't need to evaluate the timestamps of existing images on the camera against any capture date criteria. However Airnef must also consider the scenario of the user starting Airnef in realtime-only mode but with the camera initially unavailable for a connection, such as if he powers his camera on/WiFi-enable after launching Airnef or if he's using a workflow of taking photos offline and then periodically enabling WiFi to transfer after evaluating/deleting images in the camera he doesn't want. For this reason Airnef places a tight time constraint on how long it allows the initial connection to the camera to take before it considers the risk of missing images too great (ie, images taken by the user after launching Airnef but before making the camera available for WiFi connection - these images will be overlooked by Airnef if it doesn't download the initial list of objects/files from the camera and evaluate their timestamps against the Airnef launch time to establish which images are to be considered 'realtime' and downloaded). This parameter controls this constraint and defaults to 5 seconds - if the the initial connection to the camera takes any longer than the configured interval then Airnef will perform the initial retrieval of file/object info from the camera even in realtime-only mode. This parameter is being made available in case there are cameras that take longer than 10 seconds for the initial connection and the user wants the performance/response-time benefit of skipping the retrieval of the initial list of objects/files from the camera. Any photos taken in the interval of this configured parameter will not be downloaded so it's use is limited to scenarios where the user will wait for Airnef to establish its initial connection before the user takes any photos.</p>
  <p><strong id="cl_ssdp_discoveryattempts">--ssdp_discoveryattempts</strong> [value] (<font color="red">added in v1.1</font>)<br/> 
  Specifies the number of times the SSDP logic will multicast an SSDP M-SEARCH message on the network interface(s). Each discovery attempt involves the transmission of an M-SEARCH message followed by a wait for 'x' seconds for a response from devices, where 'x' is configured via --ssdp_discoverytimeoutsecsperattempt. The default attempts value is 3.</p>
  <p><strong id="cl_ssdp_discoverytimeoutsecsperattempt">--ssdp_discoverytimeoutsecsperattempt</strong> [seconds] (<font color="red">added in v1.1</font>)<br/>
The amount of time the SSDP logic will wait for a response for each M-SEARCH message sent. The default is 2 seconds.</p>
  <p><strong id="cl_ssdp_discoveryflags">--ssdp_discoveryflags</strong> [4-byte hex word with bitmask flag values] (<font color="red">added in v1.1</font>)<br/> 
    Various flags to control the operation of the SSDP logic. See ssdp.py for details on each flag</p>
  <blockquote><p>	SSDP_DISCOVERF_CREATE_EXTRA_SOCKET_FOR_HOSTNAME_IF			= 0x00000001<br />
    SSDP_DISCOVERF_USE_TTL_31									= 0x00000002<br />
    SSDP_DISCOVERF_ENABLE_MULTICAST_RX_ON_PRIMARY_SOCKET		= 0x00000100<br />
    SSDP_DISCOVERF_ENABLE_MULTICAST_RX_ON_HOSTNAME_IF_SOCKET	= 0x00000200<br />
    SSDP_DISCOVERF_ENABLE_MULTICAST_RX_ON_ADDITIONAL_SOCKETS	= 0x00000400</p>
  </blockquote>

<p>--<strong id="cl_ssdp_addmulticastif">ssdp_addmulticastif</strong> [IP address of interface ...] (<font color="red">added in v1.1</font>)<br/> 
Adds interface(s) to list of interfaces that the SSDP discovery logic will transmit M-SEARCH messages and listen for responses on. By default the SSDP logic will create a single TCP/IP socket for its broadcasts, specifying INADDR_ANY so that the system will select the default network interface. On Windows an additional socket is also used for the local host name, to work around an<a href="https://social.msdn.microsoft.com/Forums/windowsdesktop/en-US/36abbd31-1882-49c3-999e-5cf8d4bfe9c5/upnp-discovery-failures-caused-by-windows-ssdp-discovery-service-changing-default-multicast?forum=windowsgeneraldevelopmentissues" target="new"> issue</a> I found with the Windows SSDP discovery service. This parameter allows you to add additional interfaces (by IP address) on which the SSDP logic should send and listen for SSDP broadcasts [creates an additional socket for each interface, specifying the interface's IP address as the multicast interface]. This parameter is useful in systems with multiple network adapters and the camera is on an adapter other than the system default interface.</p>
<p>--<strong id="cl_ssdp_addservice">ssdp_addservice</strong> [UPnP service name] (<font color="red">added in v1.1</font>)<br/> 
Adds an additional UPnP service identifier that the SSDP discovery logic uses for its M-SEARCH multicasts/listens. Every camera manufacturer has a unique UPnP service identifier for their cameras. Airnef currently knows of two identifiers - one for Sony and Canon. Use this option to add support for an additional manufacturer, or if the identifier changes for an existing support manufacturer. The two built-in identifiers are &quot;urn:microsoft-com:service:MtpNullService:1&quot; (Sony cameras) and &quot;urn:schemas-canon-com:service:ICPO-SmartPhoneEOSSystemService:1&quot; (Canon Cameras).</p>
<h2 id="ArticlesAboutAirnef2">Articles about Airnef</h2>
<p><a href="http://www.dslrbodies.com/accessories/software-for-nikon-dslrs/software-news/finally-desktop-wifi.html" target="new">Thom Hogan - Finally, Desktop WiFi</a></p>
<p><a href="http://www.dpreview.com/articles/6089807566/airnef-brings-desktop-wi-fi-transfer-to-nikon-users" target="new">DPReview - Airnef brings desktop Wi-Fi transfer to Nikon users</a></p>
<h2 id="KnownIs4sues"></h2>

<h2 id="FeaturesPlannedForNextRelease"><strong></strong>Features Planned for Next Release</h2>
<ul>
  <li>A fully self-contained GUI app with visual selection of images to download</li>
  <li>Potential support for <a href="http://dslrdashboard.info/dslrdashboardserver-ddserver/" target="new">DslrDashboardServer</a></li>
</ul>
<h2>Developer Notes</h2>
<p>For anyone interested in the ongoing progress of Airnef development, I've created a <a href="developer/" target="_self">developer notes</a> page.</p>
<h2 id="GPLv3License">GPL v3 License</h2>
<pre>    airnef - Wirelessly download images and movies from your Nikon Camera
    Copyright (C) 2015, testcams.com

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
</pre>
<h2 id="Credits">
  Credits</h2>
<ul>
  <li> Special thanks to Joe FitzPatrick <a href="https://nikonhacker.com/wiki/WU-1a" target="new">for his work on reverse-engineering Nikon's WiFi interface</a></li>
  <li>Thanks to <a href="http://wingware.com" target="new">Wingware</a> for their support of the open-source community. I plan to start using their Python IDE/debugger to help with future Airnet development.</li>
  <li>Camera bitmap courtesy of <a href="https://openclipart.org/detail/20364/cartoon-camera" target="new">'rg1024</a>' </li>
  <li>Computer bitmap courtesy of '<a href="https://openclipart.org/detail/171010/computer-client" target="new">lnasto</a>' </li>
  <li>WiFi icons/bitmaps courtesy of '<a href="https://openclipart.org/detail/191831/wifi-icon" target="new">neorg</a>' and '<a href="https://openclipart.org/detail/166617/wireless" target="new">MrTossum</a>'</li>
  <li>Camera Icon courtesy of '<a href="https://www.iconfinder.com/icons/285680/camera_icon" target="new">Paomedia</a>', licensed under Creative Commons (Attribution 3.0 Unported)
  </li>
</ul>


</body>
</html>
